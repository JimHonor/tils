<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><link rel="shortcut icon" href="#" type="image/x-icon"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>TILs</title><style>*,*:before,*:after{box-sizing:border-box}*{margin:0}body{line-height:1.5;-webkit-font-smoothing:antialiased}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}p,h1,h2,h3,h4,h5,h6{overflow-wrap:break-word}#root,#__next{isolation:isolate}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.visible{visibility:visible}.invisible{visibility:hidden}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.top-\[48px\]{top:48px}.ml-auto{margin-left:auto}.block{display:block}.flex{display:flex}.table{display:table}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.max-h-\[360px\]{max-height:360px}.w-full{width:100%}.items-center{align-items:center}.gap-4{gap:1rem}.overflow-auto{overflow:auto}.rounded{border-radius:.25rem}.border{border-width:1px}.pl-0{padding-left:0}.text-left{text-align:left}.text-xs{font-size:.75rem;line-height:1rem}.opacity-0{opacity:0}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.hover\:visible:hover{visibility:visible}.hover\:opacity-100:hover{opacity:1}article{padding-top:1rem;color:var(--text-primary);font-size:15px;&:not(:is(:first-child,:last-child)){margin:5rem 0}header,h1,h2,h3,p,ul,ol,.code-block__wrapper{margin-bottom:1.5rem}p,ul,ol{line-height:24px}li:not(:last-child){margin-bottom:.25rem}h1{font-size:20px;margin-bottom:1.5rem}h2{font-size:15px}h1 a{text-decoration:none}a{color:var(--text-accent);&:hover{color:var(--link-hover-color)}}p:has(+:is(ul,ol)){margin-bottom:.25rem}ul,ol{padding-left:1.5rem}li:has(:is(ul,ol)) :is(ul,ol){margin-bottom:0}header{font-size:13px;color:var(--text-secondary)}}.code-block__wrapper{border-radius:8px}.code-block__header{padding:.5rem 1rem;border-radius:8px 8px 0 0;border-bottom:1px solid #555;background-color:#1e1e1e;color:#d4d4d4be;font-size:14px}.code-block__wrapper pre{padding:1rem;border-radius:0 0 8px 8px;margin-top:0;overflow:auto}.code-block__wrapper .highlighted{background-color:#383c44;display:inline-block;width:100%}code:not([class]){background-color:#f6f7f8;border-radius:2px;padding:0 4px}input[data-astro-cid-2hkkvdbw]{padding:6px 1rem;border:1px solid var(--border-color);border-radius:4px;&:focus{border-color:var(--border-color-hover)}}#search-result[data-astro-cid-2hkkvdbw]{background-color:var(--bg-color);&:has(li){border:1px solid var(--border-color)}li{list-style:none;&:hover{background-color:var(--border-color)}}a{display:inline-block;width:100%;text-decoration:none;padding:6px 1rem;color:var(--text-accent);&:hover{color:var(--link-hover-color)}}}html,body{overflow-x:clip}body{position:relative}:root{--bg-color: white;--text-primary: #444;--text-secondary: #757575;--text-accent: #21759b;--border-color: #ededed;--border-color-hover: var(--text-secondary);--link-hover-color: #0f3647;--site-header-height: 174px}html{scroll-behavior:smooth}body{font-size:16px;font-family:system-ui,sans-serif;>:is(main,header){max-width:620px;margin:auto;padding:0 1rem}>header{text-align:center;padding-top:1rem;padding-bottom:1rem;display:flex;flex-direction:column;gap:1rem;p{color:var(--text-secondary)}}>main{margin-top:1rem;margin-bottom:1rem}}body>header{position:sticky;top:0;background-color:var(--bg-color)}main,article{scroll-margin-top:calc(var(--site-header-height) + 1rem)}
</style><script type="module">const m={SEARCH_ENDPOINT:"/tils/search.json"};class S{constructor(e,t){this.list=e,this.options=t,this.list=e,this.options=t}search(e){const{keys:t=[],alias:r}=this.options;if(t.length===0||e.length===0)return[];let n=e;return r&&(n=r.find(a=>a.includes(e))||e),this.list.filter(a=>{let c=!1;for(const d of t){const h=a[d].toLowerCase();if(typeof n=="string"){if(h.includes(n.toLowerCase())){c=!0;break}}else if(n.some(y=>h.includes(y.toLowerCase()))){c=!0;break}}return c})}}let i,o;const l=document.querySelector("#search-form"),u=document.querySelector("#search-result"),f=l.querySelector("input");l.addEventListener("submit",async s=>{s.preventDefault();const e=l.search.value,t=await E(e.trim());C(t)});f.addEventListener("focus",()=>{u.hidden=!1});f.addEventListener("focusout",()=>{setTimeout(()=>{u.hidden=!0},150)});async function E(s){return i||(i=await(await fetch(m.SEARCH_ENDPOINT)).json()),o||(o=new S(i,{keys:["title"],alias:[["js","javascript"],["ts","typescript"],["11ty","eleventy"]]})),o.search(s)}function C(s){const e=s.map(({slug:t,title:r})=>`
          <li class="search-result-item">
            <a href="#${t}"">${r}</a>
          </li>
        `).join("");u.innerHTML=e}
</script></head> <body>  <header> <h1>TILs</h1> <p class="text-xs">ä¸€å…±æœ‰ 84 æ¡ TIL ...</p> <div class="search-wrapper relative" data-astro-cid-2hkkvdbw> <form id="search-form" data-astro-cid-2hkkvdbw> <input class="w-full outline-none" name="search" type="search" placeholder="Types..." autocomplete="off" data-astro-cid-2hkkvdbw> </form> <ul id="search-result" class="absolute top-[48px] w-full rounded pl-0 text-left max-h-[360px] overflow-auto" data-astro-cid-2hkkvdbw></ul> </div>   </header> <main id="top"> <article id="2024-10-13T0800"><header class="flex gap-4 items-center"><time datetime="">2024-10-13</time><span>#nodejs</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-10-13T0800">nodejs - ä¸ºä»€ä¹ˆè°ƒç”¨ `readFileSync` æ—¶æ€»æ˜¯ä»æ ¹ç›®å½•å¼€å§‹è§£æè·¯å¾„çš„</a></h1><p>ã€workã€‘</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">readFileSync</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "node:fs"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">resolve</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "node:path"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">export</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> getBucketList</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> data</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">readFileSync</span><span style="color:#D4D4D4">(</span></span>
<span class="line"><span style="color:#DCDCAA">    resolve</span><span style="color:#D4D4D4">(</span><span style="color:#C586C0">import</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">meta</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">dirname</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"./bucketlist.txt"</span><span style="color:#D4D4D4">),</span></span>
<span class="line"><span style="color:#CE9178">    "utf-8"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#D4D4D4">  );</span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"ğŸš€ ~ getBucketList ~ data:"</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">data</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p>MDï¼Œæ‰“åŒ…æ—¶ä¸Šé¢çš„ä»£ç è¿˜æ˜¯ä¼šé€ æˆ Astro çš„æŠ¥é”™ï¼Œåªèƒ½æ”¹æˆä¸‹é¢è¿™æ ·ï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">readFileSync</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "node:fs"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">join</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "node:path"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">export</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> getBucketList</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> data</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">readFileSync</span><span style="color:#D4D4D4">(</span></span>
<span class="line"><span style="color:#DCDCAA">    join</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">process</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">cwd</span><span style="color:#D4D4D4">(), </span><span style="color:#CE9178">"src"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"data"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"bucketlist"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"bucketlist.txt"</span><span style="color:#D4D4D4">),</span></span>
<span class="line"><span style="color:#CE9178">    "utf-8"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#D4D4D4">  ).</span><span style="color:#DCDCAA">split</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"</span><span style="color:#D7BA7D">\r\n</span><span style="color:#CE9178">"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#9CDCFE"> data</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p>â†“â†“
<a href="https://stackoverflow.com/questions/44600943/fs-readfilesync-is-not-file-relative-node-js" target="_blank">path - fs.readFileSync is not file relative? Node.js - Stack Overflow</a></p>
<p>From the <a href="https://nodejs.org/api/fs.html" target="_blank">docs</a>: &quot;The relative path to a filename can be used. Remember, however, that this path will be relative to <code>process.cwd()</code>.&quot;
â†’ å§æ§½ï¼ŒåŸæ¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„æ—¶ï¼Œæ˜¯ç›¸å¯¹äº the current working directory çš„ã€‚</p>
<p>You can resolve the path relative the location of the source file - rather than the current directory - using <a href="https://nodejs.org/docs/latest/api/path.html#path_path_resolve_paths" target="_blank"><code>path.resolve</code></a>:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> path</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">require</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"path"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> file</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">fs</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">readFileSync</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">path</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">resolve</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">__dirname</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"../file.xml"</span><span style="color:#D4D4D4">));</span></span></code></pre>

    </div><p>â†’ é—®é¢˜åœ¨äºï¼Œæˆ‘ç”¨çš„æ˜¯ Astroï¼Œæ˜¯åŸºäº ESM çš„ï¼Œæ²¡æ³•ç”¨ <code>__dirname</code> æ¥è¯»å– the location of the source fileã€‚</p>
<p>Since Node.js version 20.11.0 you can call <a href="https://nodejs.org/api/esm.html#importmetadirname" target="_blank"><code>import.meta.dirname</code></a> and <a href="https://nodejs.org/api/esm.html#importmetafilename" target="_blank"><code>import.meta.filename</code></a>. â­</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">resolve</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "path"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">readFileSync</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "fs"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> file</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">readFileSync</span><span style="color:#D4D4D4">(</span><span style="color:#DCDCAA">resolve</span><span style="color:#D4D4D4">(</span><span style="color:#C586C0">import</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">meta</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">dirname</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"../file.xml"</span><span style="color:#D4D4D4">));</span></span></code></pre>

    </div><p>â†“â†“
<a href="https://nodejs.org/api/fs.html#fs_string_paths" target="_blank">https://nodejs.org/api/fs.html#fs_string_paths</a>
File system | Node.js v22.8.0 Documentation</p>
<p>Relative paths will be resolved <strong>relative to the current working directory</strong> as determined by calling <code>process.cwd()</code>.</p>
</article><article id="2024-10-13T0810"><header class="flex gap-4 items-center"><time datetime="">2024-10-13</time><span>#nodejs</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-10-13T0810">nodejs - `path` æ¨¡å—</a></h1><p><a href="https://javascript.ruanyifeng.com/nodejs/path.html" target="_blank">https://javascript.ruanyifeng.com/nodejs/path.html</a></p>
<p><code>path.join()</code></p>
<ul>
<li>ç”¨äºè¿æ¥è·¯å¾„.</li>
<li>ä¸»è¦ç”¨é€”åœ¨äºï¼Œä¼šæ­£ç¡®ä½¿ç”¨å½“å‰ç³»ç»Ÿçš„è·¯å¾„åˆ†éš”ç¬¦ï¼ŒUnixç³»ç»Ÿæ˜¯â€/â€œï¼ŒWindowsç³»ç»Ÿæ˜¯ <code>\</code></li>
</ul>
<p><code>path.resolve()</code></p>
<ul>
<li>ç”¨äºå°†ç›¸å¯¹è·¯å¾„è½¬ä¸ºç»å¯¹è·¯å¾„ã€‚</li>
</ul>
<p><code>path.parse()</code></p>
<ul>
<li>å¯ä»¥è¿”å›è·¯å¾„å„éƒ¨åˆ†çš„ä¿¡æ¯ã€‚</li>
</ul>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">var</span><span style="color:#9CDCFE"> myFilePath</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"/someDir/someFile.json"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">path</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">parse</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">myFilePath</span><span style="color:#D4D4D4">).</span><span style="color:#9CDCFE">base</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#6A9955">// "someFile.json"</span></span>
<span class="line"><span style="color:#9CDCFE">path</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">parse</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">myFilePath</span><span style="color:#D4D4D4">).</span><span style="color:#9CDCFE">name</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#6A9955">// "someFile"</span></span>
<span class="line"><span style="color:#9CDCFE">path</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">parse</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">myFilePath</span><span style="color:#D4D4D4">).</span><span style="color:#9CDCFE">ext</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#6A9955">// ".json"</span></span></code></pre>

    </div></article><article id="2024-10-13T0820"><header class="flex gap-4 items-center"><time datetime="">2024-10-13</time><span>#nodejs</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-10-13T0820">nodejs - åˆ¤æ–­æ˜¯æ–‡ä»¶è¿˜æ˜¯æ–‡ä»¶å¤¹</a></h1><p><a href="https://www.misterma.com/archives/930/" target="_blank">Node.js æ–‡ä»¶æ“ä½œæ¨¡å— fs å’Œ path å¸¸ç”¨æ–¹æ³• - Mr. Ma's Blog</a></p>
<ul>
<li>ä½¿ç”¨ <code>stat</code> è·å–æ–‡ä»¶ä¿¡æ¯ï¼šæ–‡ä»¶ä¿¡æ¯è¿˜åŒ…å«ä¸€ä¸ª <code>isFile()</code> æ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥åˆ¤æ–­æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½•ï¼Œå¦‚æœ <code>isFile()</code> ä¸º <code>true</code> å°±æ˜¯æ–‡ä»¶ã€‚</li>
</ul>
<p>â†“</p>
<p>Don't:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> file</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> fsPromise</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">readFile</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">filePath</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#6A9955">// do something...</span></span></code></pre>

    </div><p>ä¸ºä»€ä¹ˆä¸è¦è¿™æ ·åšï¼Œå› ä¸ºä½ æœ¬æ¥è¦æ“ä½œçš„åªæ˜¯æ–‡ä»¶ï¼Œä½†æœ‰å¯èƒ½é‡åˆ°ç›®å½•ï¼Œè¿™æ—¶å°±ä¼šæŠ¥é”™ã€‚</p>
<p>Do:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> stat</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> fsPromise</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">stat</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">filePath</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">stat</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">isFile</span><span style="color:#D4D4D4">()) {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> file</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> fsPromise</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">readFile</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">filePath</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#6A9955">  // do something...</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div></article><article id="2024-10-13T0830"><header class="flex gap-4 items-center"><time datetime="">2024-10-13</time><span>#nodejs</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-10-13T0830">nodejs - æ§åˆ¶å°ä¸­æ–‡ä¹±ç </a></h1><p><a href="https://www.jianshu.com/p/a07eeb43d8b3" target="_blank">è§£å†³Node.jsçš„å‘½ä»¤è¡Œè¾“å‡ºä¸­æ–‡ä¹±ç é—®é¢˜ï¼ˆä¹Ÿé€‚ç”¨äºElectronï¼‰ - ç®€ä¹¦</a></p>
<ul>
<li>é€šè¿‡å‘½ä»¤<code>chcp 65001</code>å°±å¯ä»¥æŠŠå½“å‰å‘½ä»¤è¡Œçš„è¾“å‡ºè½¬æˆutf8ç¼–ç çš„ã€‚</li>
</ul>
<p>â†“</p>

    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">chcp</span><span style="color:#B5CEA8"> 65001</span><span style="color:#D4D4D4"> &#x26;&#x26; </span><span style="color:#DCDCAA">npx</span><span style="color:#CE9178"> vite</span></span></code></pre>

    </div></article><article id="2024-10-12T0800"><header class="flex gap-4 items-center"><time datetime="">2024-10-12</time><span>#nodejs</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-10-12T0800">nodejs - using  `fs` module to interact with the file system</a></h1><h2><code>fs</code> module</h2>
<p>TheÂ <code>node:fs</code>Â module enables interacting with the file system.</p>
<p>To use the promise-based APIs:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#569CD6"> *</span><span style="color:#C586C0"> as</span><span style="color:#9CDCFE"> fs</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "node:fs/promises"</span><span style="color:#D4D4D4">;</span></span></code></pre>

    </div><p>To use the callback and sync APIs:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#569CD6"> *</span><span style="color:#C586C0"> as</span><span style="color:#9CDCFE"> fs</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "node:fs"</span><span style="color:#D4D4D4">;</span></span></code></pre>

    </div><p><a href="https://nodejs.org/api/fs.html" target="_blank">File system | Node.js v20.0.0 Documentation</a></p>
<ul>
<li>API æœ‰ä¸‰ç§ç‰ˆæœ¬ï¼šå¼‚æ­¥çš„ Promise ç‰ˆã€å¼‚æ­¥çš„ Callback ç‰ˆï¼ŒåŒæ­¥ç‰ˆ</li>
<li>æ¥å£ï¼š
<ul>
<li>fsPromises - å¼‚æ­¥çš„ Promise ç‰ˆ</li>
<li>fs - å¼‚æ­¥çš„ Callback ç‰ˆ</li>
<li>fsSync - åŒæ­¥ç‰ˆ</li>
</ul>
</li>
</ul>
<p><a href="https://www.runoob.com/nodejs/nodejs-fs.html" target="_blank">Node.js æ–‡ä»¶ç³»ç»Ÿ | èœé¸Ÿæ•™ç¨‹</a></p>
<ul>
<li>å¼‚æ­¥å’ŒåŒæ­¥ä¹‹åˆ†ï¼šNode.js æ–‡ä»¶ç³»ç»Ÿï¼ˆfs æ¨¡å—ï¼‰æ¨¡å—ä¸­çš„æ–¹æ³•å‡æœ‰å¼‚æ­¥å’ŒåŒæ­¥ç‰ˆæœ¬ï¼Œä¾‹å¦‚è¯»å–æ–‡ä»¶å†…å®¹çš„å‡½æ•°æœ‰å¼‚æ­¥çš„ fs.readFile() å’ŒåŒæ­¥çš„ fs.readFileSync()ã€‚
<ul>
<li>å¼‚æ­¥ç‰ˆæœ¬çš„è¯ï¼Œå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°ä¸ºå›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°åŒ…å«äº†é”™è¯¯ä¿¡æ¯(error)ã€‚</li>
<li>å»ºè®®å¤§å®¶ä½¿ç”¨å¼‚æ­¥æ–¹æ³•ï¼Œæ¯”èµ·åŒæ­¥ï¼Œå¼‚æ­¥æ–¹æ³•æ€§èƒ½æ›´é«˜ï¼Œé€Ÿåº¦æ›´å¿«ï¼Œè€Œä¸”æ²¡æœ‰é˜»å¡ã€‚</li>
</ul>
</li>
</ul>
<h2>åˆ é™¤æ–‡ä»¶</h2>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">promises</span><span style="color:#C586C0"> as</span><span style="color:#9CDCFE"> fsp</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "fs"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> fsp</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">unlink</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"path..."</span><span style="color:#D4D4D4">);</span></span></code></pre>

    </div><h2>è·å–æŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„æ–‡ä»¶å</h2>
<p>å¦‚æœæ˜¯æ–‡ä»¶ï¼Œåˆ™å¾—åˆ°çš„æ–‡ä»¶åä¼šåŒ…å«æ‰©å±•åï¼Œæ¯”å¦‚ <code>package.json</code>ã€‚</p>
<p>å¦‚æœæ˜¯æ–‡ä»¶å¤¹ï¼Œåˆ™å¾—åˆ°çš„æ˜¯æ–‡ä»¶å¤¹åï¼Œæ¯”å¦‚ <code>node_modules</code> ã€‚</p>
<p>1ï¼‰é€šè¿‡å¼‚æ­¥å›è°ƒçš„æ–¹å¼è·å–ï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> fs</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">require</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"fs"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> folderPath</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"C:</span><span style="color:#D7BA7D">\\</span><span style="color:#CE9178">mine</span><span style="color:#D7BA7D">\\</span><span style="color:#CE9178">Note</span><span style="color:#D7BA7D">\\</span><span style="color:#CE9178">TEST-capturer"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">fs</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">readdir</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">folderPath</span><span style="color:#D4D4D4">, (</span><span style="color:#9CDCFE">err</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">files</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#C586C0">  if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">err</span><span style="color:#D4D4D4">) </span><span style="color:#C586C0">throw</span><span style="color:#9CDCFE"> err</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">files</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// >> [ '2023-12-01-946.md', '2023-12-02-001.md' ]</span></span></code></pre>

    </div><p>Here, <code>readdir()</code> ä¼šè·å–æŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„åç§°ã€‚</p>
<p>2ï¼‰é€šè¿‡å¼‚æ­¥ Promise çš„æ–¹å¼è·å–ï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">readdir</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "node:fs/promises"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">try</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> files</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> readdir</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">path</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">files</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">} </span><span style="color:#C586C0">catch</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">err</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">error</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">err</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><h2>è¯»å–æ–‡ä»¶å†…å®¹</h2>
<p>1ï¼‰è¯»å– <code>txt</code> æ–‡ä»¶ï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">var</span><span style="color:#9CDCFE"> fs</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">require</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"fs"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// å¼‚æ­¥è¯»å–</span></span>
<span class="line"><span style="color:#9CDCFE">fs</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">readFile</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"input.txt"</span><span style="color:#D4D4D4">, </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">err</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">data</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#C586C0">  if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">err</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#C586C0">    return</span><span style="color:#9CDCFE"> console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">error</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">err</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"å¼‚æ­¥è¯»å–: "</span><span style="color:#D4D4D4"> + </span><span style="color:#9CDCFE">data</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">toString</span><span style="color:#D4D4D4">());</span></span>
<span class="line"><span style="color:#D4D4D4">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// åŒæ­¥è¯»å–</span></span>
<span class="line"><span style="color:#569CD6">var</span><span style="color:#9CDCFE"> data</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">fs</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">readFileSync</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"input.txt"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#9CDCFE">console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"åŒæ­¥è¯»å–: "</span><span style="color:#D4D4D4"> + </span><span style="color:#9CDCFE">data</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">toString</span><span style="color:#D4D4D4">());</span></span></code></pre>

    </div><p>2ï¼‰è¯»å– <code>json</code> æ–‡ä»¶ï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">readFile</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "fs/promises"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> filePath</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"C:</span><span style="color:#D7BA7D">\\</span><span style="color:#CE9178">users</span><span style="color:#D7BA7D">\\</span><span style="color:#CE9178">use1</span><span style="color:#D7BA7D">\\</span><span style="color:#CE9178">filename.json"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> json</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> readFile</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">filePath</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"utf-8"</span><span style="color:#D4D4D4">); </span><span style="color:#6A9955">// return json string</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> data</span><span style="color:#D4D4D4"> = </span><span style="color:#4FC1FF">JSON</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">parse</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">json</span><span style="color:#D4D4D4">); </span><span style="color:#6A9955">// return javascript object or array</span></span></code></pre>

    </div><p>æ³¨æ„ï¼š<code>readFile()</code> å‡½æ•°è°ƒç”¨æ—¶å¿…é¡»æŒ‡å®šç¬¬äºŒä¸ªå‚æ•°ï¼Œæ‰èƒ½è¿”å› json stringã€‚</p>
<p>source: <a href="https://stackoverflow.com/questions/10011011/using-node-js-how-do-i-read-a-json-file-into-server-memory" target="_blank">https://stackoverflow.com/questions/10011011/using-node-js-how-do-i-read-a-json-file-into-server-memory</a></p>
<h2>å†™å…¥æ–‡ä»¶</h2>
<p>è¯­æ³•ï¼š<code>fs.writeFile(file, data[, options], callback)</code></p>
<p>1ï¼‰åˆ›å»ºä¸€ä¸ª <code>txt</code> æ–‡ä»¶ï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">var</span><span style="color:#9CDCFE"> fs</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">require</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"fs"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE">fs</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">writeFile</span><span style="color:#D4D4D4">(</span></span>
<span class="line"><span style="color:#CE9178">  "input.txt"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#CE9178">  "æˆ‘æ˜¯é€šè¿‡ fs.writeFile å†™å…¥æ–‡ä»¶çš„å†…å®¹"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#569CD6">  function</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">err</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#C586C0">    if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">err</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#C586C0">      return</span><span style="color:#9CDCFE"> console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">error</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">err</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">    }</span></span>
<span class="line"><span style="color:#9CDCFE">    console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"æ•°æ®å†™å…¥æˆåŠŸï¼"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">  },</span></span>
<span class="line"><span style="color:#D4D4D4">);</span></span></code></pre>

    </div><p>æ³¨æ„ï¼š</p>
<ul>
<li>fs.writeFile() çš„ path å‚æ•°æœ‰ç‚¹å¥‡æ€ªï¼šç”¨ç›¸å¯¹è·¯å¾„çš„è¯ï¼Œå¹¶ä¸æ˜¯ä»¥æ–‡ä»¶æ‰€åœ¨ç›®å½•ä½œä¸ºåŸºå‡†ï¼Œè€Œæ˜¯ä»¥é¡¹ç›®æ ¹ç›®å½•ä¸ºåŸºå‡†ã€‚</li>
<li>fs.writeFile() çš„ path å‚æ•°å¦‚æœåŒ…å«ç›®å½•çš„è¯ï¼Œä¸€å®šå¾—æ˜¯æå‰è‡ªå·±æ‰‹åŠ¨åˆ›å»ºå¥½çš„ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚</li>
</ul>
<p>2ï¼‰åˆ›å»ºä¸€ä¸ª <code>md</code> æ–‡ä»¶ï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#9CDCFE"> fs</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "fs"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> filePath</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"demo.md"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> content</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"### heading 3"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE">fs</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">writeFile</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">filePath</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">content</span><span style="color:#D4D4D4">, (</span><span style="color:#9CDCFE">err</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#C586C0">  if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">err</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#6A9955">    // do something when errors happen.</span></span>
<span class="line"><span style="color:#C586C0">    return</span><span style="color:#9CDCFE"> console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">error</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">err</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">  // do something after the file was created.</span></span>
<span class="line"><span style="color:#D4D4D4">});</span></span></code></pre>

    </div><h2>è¯»å–æŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„å†…å®¹</h2>
<p>æ€è·¯ï¼šå…ˆè¯»å–åˆ°æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åï¼Œå†ä¾æ¬¡è¯»å–æ¯ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> fsPromise</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">require</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"fs/promises"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> path</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">require</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"path"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> folderPath</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"C:</span><span style="color:#D7BA7D">\\</span><span style="color:#CE9178">mine</span><span style="color:#D7BA7D">\\</span><span style="color:#CE9178">Note</span><span style="color:#D7BA7D">\\</span><span style="color:#CE9178">TEST-capturer"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> getAllFiles</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">dir</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> result</span><span style="color:#D4D4D4"> = [];</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> fileNames</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> fsPromise</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">readdir</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">dir</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#C586C0">  for</span><span style="color:#D4D4D4"> (</span><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> fileName</span><span style="color:#569CD6"> of</span><span style="color:#9CDCFE"> fileNames</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#569CD6">    const</span><span style="color:#4FC1FF"> filePath</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">path</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">join</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">dir</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">fileName</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#569CD6">    const</span><span style="color:#4FC1FF"> file</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> fsPromise</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">readFile</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">filePath</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#9CDCFE">    result</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">push</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">file</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">toString</span><span style="color:#D4D4D4">());</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#9CDCFE"> result</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA">getAllFiles</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">folderPath</span><span style="color:#D4D4D4">).</span><span style="color:#DCDCAA">then</span><span style="color:#D4D4D4">((</span><span style="color:#9CDCFE">result</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#9CDCFE"> console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">result</span><span style="color:#D4D4D4">));</span></span>
<span class="line"><span style="color:#6A9955">// >> [ '# 111\r\n\r\n999\r\n', '111' ]</span></span></code></pre>

    </div><h2>è¯»å–æ–‡ä»¶ä¿¡æ¯</h2>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#9CDCFE"> fs</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "fs"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> filePath</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"demo.txt"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE">fs</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">stat</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">filePath</span><span style="color:#D4D4D4">, (</span><span style="color:#9CDCFE">err</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">stats</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#C586C0">  if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">err</span><span style="color:#D4D4D4">) </span><span style="color:#C586C0">throw</span><span style="color:#9CDCFE"> err</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#6A9955">  // Here you have access to the "stats" object.</span></span>
<span class="line"><span style="color:#6A9955">  // The "stats" object includes lots of information about a file.</span></span>
<span class="line"><span style="color:#6A9955">  // For example:</span></span>
<span class="line"><span style="color:#6A9955">  // The created time:</span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">stats</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">birthtimeMs</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">stats</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">birthtime</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> stats</span><span style="color:#D4D4D4"> = {</span></span>
<span class="line"><span style="color:#9CDCFE">  dev:</span><span style="color:#B5CEA8"> 842122948</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  mode:</span><span style="color:#B5CEA8"> 33206</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  nlink:</span><span style="color:#B5CEA8"> 1</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  uid:</span><span style="color:#B5CEA8"> 0</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  gid:</span><span style="color:#B5CEA8"> 0</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  rdev:</span><span style="color:#B5CEA8"> 0</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  blksize:</span><span style="color:#B5CEA8"> 4096</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  ino:</span><span style="color:#B5CEA8"> 4785074604347757</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  size:</span><span style="color:#B5CEA8"> 12</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  blocks:</span><span style="color:#B5CEA8"> 0</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  atimeMs:</span><span style="color:#B5CEA8"> 1703731315382.569</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  mtimeMs:</span><span style="color:#B5CEA8"> 1703730994759.9214</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  ctimeMs:</span><span style="color:#B5CEA8"> 1703731315355.52</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  birthtimeMs:</span><span style="color:#B5CEA8"> 1703730986883.2766</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  atime:</span><span style="color:#CE9178"> "2023-12-28T02:41:55.383Z"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  mtime:</span><span style="color:#CE9178"> "2023-12-28T02:36:34.760Z"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  ctime:</span><span style="color:#CE9178"> "2023-12-28T02:41:55.356Z"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  birthtime:</span><span style="color:#CE9178"> "2023-12-28T02:36:26.883Z"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#D4D4D4">};</span></span></code></pre>

    </div><p>source: <a href="https://www.misterma.com/archives/930/" target="_blank">https://www.misterma.com/archives/930/</a></p>
<h2>æ–°å»ºæ–‡ä»¶å¤¹</h2>
<p><a href="https://nodejs.org/en/learn/manipulating-files/working-with-folders-in-nodejs" target="_blank">Node.js â€” Working with folders in Node.js</a></p>
<p>â†“</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#DCDCAA"> firstFun</span><span style="color:#D4D4D4"> = () </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> configPath</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">getConfigPath</span><span style="color:#D4D4D4">();</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#C586C0">  if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">fs</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">existsSync</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">configPath</span><span style="color:#D4D4D4">)) {</span></span>
<span class="line"><span style="color:#C586C0">    return</span><span style="color:#569CD6"> false</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE">  fs</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">writeFileSync</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">configPath</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">""</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#569CD6"> true</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">};</span></span></code></pre>

    </div></article><article id="2024-10-12T0810"><header class="flex gap-4 items-center"><time datetime="">2024-10-12</time><span>#nodejs</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-10-12T0810">nodejs - fix `__dirname` is not defined in ES module scope</a></h1><h2></h2>
<p><a href="https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c" target="_blank">https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c</a></p>
<p><strong>Node.js 20.11+</strong></p>
<p>Use <a href="https://nodejs.org/api/esm.html#importmetadirname" target="_blank"><code>import.meta.dirname</code></a> and <a href="https://nodejs.org/api/esm.html#importmetafilename" target="_blank"><code>import.meta.filename</code></a>.</p>
<p><strong>Older Node.js versions</strong></p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">fileURLToPath</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "node:url"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#C586C0">import</span><span style="color:#9CDCFE"> path</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "node:path"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> __filename</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">fileURLToPath</span><span style="color:#D4D4D4">(</span><span style="color:#C586C0">import</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">meta</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> __dirname</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">path</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">dirname</span><span style="color:#D4D4D4">(</span><span style="color:#DCDCAA">fileURLToPath</span><span style="color:#D4D4D4">(</span><span style="color:#C586C0">import</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">meta</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">));</span></span></code></pre>

    </div><p>However, in most cases, this is better:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">fileURLToPath</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "node:url"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> foo</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">fileURLToPath</span><span style="color:#D4D4D4">(</span><span style="color:#569CD6">new</span><span style="color:#DCDCAA"> URL</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"foo.js"</span><span style="color:#D4D4D4">, </span><span style="color:#C586C0">import</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">meta</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">));</span></span></code></pre>

    </div><p>And many Node.js APIs accept URL directly, so you can just do this:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> foo</span><span style="color:#D4D4D4"> = </span><span style="color:#569CD6">new</span><span style="color:#DCDCAA"> URL</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"foo.js"</span><span style="color:#D4D4D4">, </span><span style="color:#C586C0">import</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">meta</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">);</span></span></code></pre>

    </div><h2></h2>
<p><a href="https://flaviocopes.com/fix-dirname-not-defined-es-module-scope/" target="_blank">How to fix <code>__dirname is not defined in ES module scope</code></a></p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#9CDCFE"> path</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "path"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">fileURLToPath</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "url"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> __filename</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">fileURLToPath</span><span style="color:#D4D4D4">(</span><span style="color:#C586C0">import</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">meta</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> __dirname</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">path</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">dirname</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">__filename</span><span style="color:#D4D4D4">);</span></span></code></pre>

    </div><p><a href="https://stackabuse.com/bytes/fix-dirname-is-not-defined-in-es-module-scope-in-javascript-node/" target="_blank">Fix &quot;dirname is not defined in ES module scope&quot; in JavaScript/Node</a></p>
<ul>
<li><code>import.meta.url</code> to get the current file's as a URL</li>
<li><code>url.fileURLToPath</code> to change the URL to a path</li>
<li><code>path.dirname</code> to get the directory name</li>
<li>å®ç°ä¸€ä¸ª helper methodï¼š</li>
</ul>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#9CDCFE"> path</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "path"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#C586C0">import</span><span style="color:#9CDCFE"> url</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "url"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">export</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> currDir</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">fileUrl</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> __filename</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">fileURLToPath</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">fileUrl</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#9CDCFE"> path</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">dirname</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">__filename</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><ul>
<li>ä½¿ç”¨ï¼š</li>
</ul>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">currDir</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "./lib"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> __dirname</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">currDir</span><span style="color:#D4D4D4">(</span><span style="color:#C586C0">import</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">meta</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE">console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">__dirname</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// Prints: /Users/scott/sandbox/javascript</span></span></code></pre>

    </div></article><article id="2024-10-06T0800"><header class="flex gap-4 items-center"><time datetime="">2024-10-06</time><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-10-06T0800">esbuild</a></h1><p><a href="https://esbuild.github.io/getting-started/" target="_blank">https://esbuild.github.io/getting-started/</a></p>
<p>ä¸€æ˜¯ç”¨å‘½ä»¤è¡Œä¼ å‡ºå‚æ•°çš„æ–¹å¼è°ƒæ•´é…ç½®ã€‚
äºŒæ˜¯ç”¨é…ç½®æ–‡ä»¶çš„æ–¹å¼è°ƒæ•´é…ç½®ã€‚</p>
<p>â†“â†“
<a href="https://esbuild.github.io/api/#build" target="_blank">https://esbuild.github.io/api/#build</a></p>
<p>This is the primary interface to esbuild. You typically pass one or more <a href="https://esbuild.github.io/api/#entry-points" target="_blank">entry point</a> files to process along with various options, and then esbuild writes the results back out to the file system.</p>
<ul>
<li>pass <a href="https://esbuild.github.io/api/#entry-points" target="_blank">entry point</a> files</li>
<li>enables bundling</li>
<li>generate output files to output directory</li>
</ul>

    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">esbuild</span><span style="color:#CE9178"> app.ts</span><span style="color:#569CD6"> --bundle</span><span style="color:#569CD6"> --outdir=dist</span></span></code></pre>

    </div>
    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#569CD6"> *</span><span style="color:#C586C0"> as</span><span style="color:#9CDCFE"> esbuild</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "esbuild"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">let</span><span style="color:#9CDCFE"> result</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> esbuild</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">build</span><span style="color:#D4D4D4">({</span></span>
<span class="line"><span style="color:#9CDCFE">  entryPoints:</span><span style="color:#D4D4D4"> [</span><span style="color:#CE9178">"app.ts"</span><span style="color:#D4D4D4">],</span></span>
<span class="line"><span style="color:#9CDCFE">  bundle:</span><span style="color:#569CD6"> true</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  outdir:</span><span style="color:#CE9178"> "dist"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#D4D4D4">});</span></span>
<span class="line"><span style="color:#9CDCFE">console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">result</span><span style="color:#D4D4D4">);</span></span></code></pre>

    </div><p>â†“â†“
<a href="https://janessagarrow.com/blog/typescript-and-esbuild/" target="_blank">https://janessagarrow.com/blog/typescript-and-esbuild/</a></p>
<p>There are lots of different config options:</p>
<ul>
<li><code>bundle</code>: Bundle all input sources into a single output source instead of one output source per input.</li>
<li><code>minify</code>: Minify compiled JavaScript code to reduce file size for output files.</li>
<li><code>outfile</code>: filename that you want the generated JavaScript code to be written to.</li>
</ul>
<p>è¿è¡Œ js æ–‡ä»¶æ¥æ‰“åŒ…è€Œä¸æ˜¯è¿è¡Œ CLI å‘½ä»¤ï¼š</p>
<ul>
<li><code>node build.js</code></li>
</ul>
</article><article id="2024-10-06T0810"><header class="flex gap-4 items-center"><time datetime="">2024-10-06</time><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-10-06T0810">esbuild - just copy html files or json files to output dir</a></h1><h2>ç¤ºä¾‹ - HTML files</h2>
<p>å¯¹äº HTML æ–‡ä»¶ï¼Œç›´æ¥ç”¨ <a href="https://esbuild.github.io/content-types/#copy" target="_blank"><code>copy</code> loader</a> å°†å®ƒä»¬åŸå°ä¸åŠ¨åœ°æ‹·è´åˆ° output directoryã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<p>è¿™æ˜¯ä½ çš„ HTML æ–‡ä»¶ï¼š</p>

    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="code-block__filename">index.html</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#808080">&#x3C;!</span><span style="color:#569CD6">doctype</span><span style="color:#9CDCFE"> html</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">html</span><span style="color:#9CDCFE"> lang</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"en"</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#D4D4D4">  ...</span></span>
<span class="line"><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">html</span><span style="color:#808080">></span></span></code></pre>

    </div><p>é‚£ä¹ˆï¼Œè¿è¡Œä¸‹é¢çš„æ‰“åŒ…å‘½ä»¤åï¼š</p>

    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">esbuild</span><span style="color:#569CD6"> --bundle</span><span style="color:#CE9178"> index.html</span><span style="color:#569CD6"> --loader:.html=copy</span><span style="color:#569CD6"> --outdir=dist</span></span></code></pre>

    </div><p>esbuild å°±ä¼šå°†å…¶åŸå°ä¸åŠ¨åœ°å‡ºæ‹·è´åˆ°æ‰“åŒ…ç›®å½•ï¼š</p>

    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="code-block__filename">dist/index.html</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#808080">&#x3C;!</span><span style="color:#569CD6">doctype</span><span style="color:#9CDCFE"> html</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">html</span><span style="color:#9CDCFE"> lang</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"en"</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#D4D4D4">  ...</span></span>
<span class="line"><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">html</span><span style="color:#808080">></span></span></code></pre>

    </div><h2>ç¤ºä¾‹ - JSON files</h2>
<p>å¾ˆå¥‡æ€ªï¼Œå¯¹äº json æ–‡ä»¶ï¼Œä¼šå°†å…¶ç¼–è¯‘æˆ js æ–‡ä»¶ï¼Œç„¶åè¿™ä¸ªç¼–è¯‘å js æ–‡ä»¶å’ŒåŸæœ¬çš„ json æ–‡ä»¶ä¸€èµ·è¾“å‡ºåˆ°æ‰“åŒ…ç›®å½•é‡Œã€‚</p>
<p>è€Œå¦‚æœåŠ äº† <code>--loader:.json=copy</code> optionï¼Œåˆ™ä¸ä¼šç¼–è¯‘ï¼Œè€Œåªæ˜¯å°† json æ–‡ä»¶æ‹·è´åˆ°æ‰“åŒ…ç›®å½•ã€‚</p>
<p><a href="https://esbuild.github.io/content-types/#copy" target="_blank">https://esbuild.github.io/content-types/#copy</a></p>
<ul>
<li>â†’ ä»–è¿™ä¸ªæ–‡æ¡£é‡Œå¯¹ copy loader çš„è§£é‡Šæˆ‘çœ‹ä¸æ‡‚ã€‚</li>
</ul>
<p><a href="https://esbuild.github.io/content-types/#json" target="_blank">https://esbuild.github.io/content-types/#json</a></p>
<ul>
<li>The <code>json</code> loader is enabled by default for <code>.json</code> files. <strong>It parses the JSON file into a JavaScript object</strong> at build time and exports the object as the default export.</li>
</ul>
</article><article id="2024-10-06T0820"><header class="flex gap-4 items-center"><time datetime="">2024-10-06</time><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-10-06T0820">esbuild - common bugs</a></h1><h2>Could not resolve &quot;src/content&quot;</h2>
<p><code>    &quot;bundle&quot;: &quot;esbuild src/content-script.js --bundle --outfile=dist/content-script.js&quot;</code></p>
<p>è¿è¡Œä¸Šé¢çš„å‘½ä»¤åæŠ¥é”™ï¼š</p>

    <div class="code-block__wrapper language-txt">
      <div class="code-block__header">
        <span class="lang">txt</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-txt"><span class="line"><span>Could not resolve "src/content"</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  Use the relative path "./src/content" to reference the file "src/content/index.js". Without the</span></span>
<span class="line"><span>  leading "./", the path "src/content" is being interpreted as a package path instead.</span></span></code></pre>

    </div><h2>Top-level await is currently not supported with the &quot;iife&quot; output format</h2>
<p>å½“æˆ‘åœ¨ä¸€ä¸ª <code>.js</code> æ–‡ä»¶é‡Œå†™äº†ä¸€ä¸ª top-level await åï¼Œesbuild å°±æŠ›å‡ºè¿™ä¸ªæŠ¥é”™ä¿¡æ¯ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆå°±æ˜¯ï¼Œä¿®æ”¹ <code>.js</code> çš„ <a href="https://esbuild.github.io/api/#format" target="_blank">output format</a>ï¼Œå¦‚æœè„šæœ¬æ˜¯åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹è¿è¡Œçš„è¯ï¼Œå°±æ”¹æˆ <code>esm</code> æ ¼å¼ï¼Œæ¯”å¦‚ï¼š</p>

    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">esbuild</span><span style="color:#CE9178"> index.js</span><span style="color:#569CD6"> --bundle</span><span style="color:#569CD6"> --format=esm</span></span></code></pre>

    </div></article><article id="2024-10-06T0830"><header class="flex gap-4 items-center"><time datetime="">2024-10-06</time><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-10-06T0830">esbuild - rename individual entry file</a></h1><p>æˆ‘çš„éœ€æ±‚æ˜¯ï¼Œå°†ä¸‹é¢è¿™ä¸ªæ–‡ä»¶æ‹·è´åˆ° output directory æ—¶ï¼Œå°†æ–‡ä»¶é‡å‘½å <code>manifest.json</code> ï¼š</p>

    <div class="code-block__wrapper language-json">
      <div class="code-block__header">
        <span class="code-block__filename">src/manifest_firefox.json</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-json"><span class="line"><span style="color:#D4D4D4">...</span></span></code></pre>

    </div><p><a href="https://esbuild.github.io/api/#entry-points" target="_blank">æ–‡æ¡£é‡Œè¯´åˆ° you can also specify a fully custom output path for each individual entry point using an alternative entry point syntax</a>ï¼Œä¹Ÿå°±æ˜¯ï¼š</p>

    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">esbuild</span><span style="color:#CE9178"> manifest=./src/manifest_firefox.json</span><span style="color:#569CD6"> --loader:.json=copy</span><span style="color:#569CD6"> --outdir=dist</span></span></code></pre>

    </div><p>æ‰“åŒ…åï¼Œå°±æ˜¯è¿™æ ·ï¼š</p>

    <div class="code-block__wrapper language-json">
      <div class="code-block__header">
        <span class="code-block__filename">dist/manifest.json</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-json"><span class="line"><span style="color:#D4D4D4">...</span></span></code></pre>

    </div></article><article id="2024-10-06T0840"><header class="flex gap-4 items-center"><time datetime="">2024-10-06</time><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-10-06T0840">esbuild - bundle css</a></h1><p>æ— éœ€ä»»ä½•é…ç½®ï¼Œesbuild å¯ä»¥ç›´æ¥æ‰“åŒ… CSS æ–‡ä»¶ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œè¿™æ˜¯ä½ çš„å…¥å£æ–‡ä»¶ï¼š</p>

    <div class="code-block__wrapper language-css">
      <div class="code-block__header">
        <span class="code-block__filename">index.css</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-css"><span class="line"><span style="color:#C586C0">@import</span><span style="color:#CE9178"> "./reset.css"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#C586C0">@import</span><span style="color:#CE9178"> "./app.css"</span><span style="color:#D4D4D4">;</span></span></code></pre>

    </div><p>åœ¨è¿™ä¸ª CSS æ–‡ä»¶é‡Œï¼Œä½ å¯¼å…¥äº†æ¥è‡ªä»¥ä¸‹æ–‡ä»¶çš„æ ·å¼ï¼š</p>

    <div class="code-block__wrapper language-css">
      <div class="code-block__header">
        <span class="code-block__filename">reset.css</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-css"><span class="line"><span style="color:#569CD6">*</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#569CD6">*</span><span style="color:#D7BA7D">::before</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#569CD6">*</span><span style="color:#D7BA7D">::after</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  box-sizing</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">border-box</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div>
    <div class="code-block__wrapper language-css">
      <div class="code-block__header">
        <span class="code-block__filename">app.css</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-css"><span class="line"><span style="color:#D7BA7D">body</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  font-family</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">system-ui</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">sans-serif</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p>é‚£ä¹ˆï¼Œè¿è¡Œä¸‹é¢çš„æ‰“åŒ…å‘½ä»¤åï¼š</p>

    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">esbuild</span><span style="color:#569CD6"> --bundle</span><span style="color:#CE9178"> index.css</span><span style="color:#569CD6"> --outdir=dist</span></span></code></pre>

    </div><p>esbuild å°±ä¼šæ‰“åŒ…å‡ºè¿™æ ·ä¸€ä¸ªæ–‡ä»¶ï¼š</p>

    <div class="code-block__wrapper language-css">
      <div class="code-block__header">
        <span class="code-block__filename">dist/index.css</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-css"><span class="line"><span style="color:#6A9955">/* reset.css */</span></span>
<span class="line"><span style="color:#D7BA7D">body</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  font-family</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">system-ui</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">sans-serif</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">/* app.css */</span></span>
<span class="line"><span style="color:#D7BA7D">body</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  font-family</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">system-ui</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">sans-serif</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p><a href="https://esbuild.github.io/content-types/#css" target="_blank">æ›´è¯¦ç»†çš„å†…å®¹ï¼Œè¯·çœ‹æ–‡æ¡£ã€‚</a></p>
</article><article id="2024-09-28T0800"><header class="flex gap-4 items-center"><time datetime="">2024-09-28</time><span>#tailwind</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-28T0800">tailwind - fix Unknown at rule @tailwindcss</a></h1><h2>é—®é¢˜</h2>

    <div class="code-block__wrapper language-css">
      <div class="code-block__header">
        <span class="lang">css</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-css"><span class="line"><span style="color:#C586C0">@tailwind</span><span style="color:#D4D4D4"> base;</span></span>
<span class="line"><span style="color:#C586C0">@tailwind</span><span style="color:#D4D4D4"> components;</span></span>
<span class="line"><span style="color:#C586C0">@tailwind</span><span style="color:#D4D4D4"> utilities;</span></span></code></pre>

    </div><p>warning: Unknown at rule @tailwindcss(unknownAtRules)</p>
<h2>æ–¹æ¡ˆ</h2>
<p>æ–¹æ¡ˆä¸€ï¼šã€æˆ‘ä¸å–œæ¬¢è¿™ä¸ªæ–¹å¼ï¼Œå¤ªéº»çƒ¦ã€‘</p>
<p>Open a CSS file in your project, and from the VS Code Command Palette choose â€œChange Language Modeâ€, then pick â€œTailwind CSSâ€ from the list.</p>
<p>æ–¹æ¡ˆäºŒï¼šã€æš‚æ—¶å…ˆç”¨è¿™ä¸ªæ–¹å¼å§ã€‘</p>
<p>æ‰“å¼€ <code>.vscode/settings.json</code> (å¦‚æœé¡¹ç›®ä¸­æ²¡æœ‰çš„è¯å°±åˆ›å»ºä¸€ä¸ª)ï¼Œæ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p>

    <div class="code-block__wrapper language-json">
      <div class="code-block__header">
        <span class="lang">json</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-json"><span class="line"><span style="color:#D4D4D4">{</span></span>
<span class="line"><span style="color:#9CDCFE">  "files.associations"</span><span style="color:#D4D4D4">: {</span></span>
<span class="line"><span style="color:#9CDCFE">    "*.css"</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"tailwindcss"</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p>æ–¹æ¡ˆä¸‰ï¼š</p>
<p>æ‰“å¼€è®¾ç½®ï¼Œæœç´¢ <code>unknown</code>ï¼Œæ‰¾åˆ° <code>CSS &gt; Lint: Unknown At Rules</code> é…ç½®é¡¹ï¼Œå°† <code>warning</code> æ”¹æˆ <code>ignore</code>ã€‚</p>
<h2>å‚è€ƒ</h2>
<p><a href="https://flaviocopes.com/fix-unknown-at-rule-tailwind/" target="_blank">https://flaviocopes.com/fix-unknown-at-rule-tailwind/</a></p>
</article><article id="2024-09-28T0810"><header class="flex gap-4 items-center"><time datetime="">2024-09-28</time><span>#vscode</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-28T0810">vscode - Syntax Highlight, Emmet, IntelliSense support for HTML/CSS in ES6 Template Strings</a></h1><p>ä½ å¯ä»¥ä½¿ç”¨ <a href="https://marketplace.visualstudio.com/items?itemName=pushqrdx.inline-html" target="_blank">inline-html</a> æ’ä»¶æ¥å®ç°è¿™ä¸ªéœ€æ±‚ã€‚</p>
<p>å…·ä½“æ“ä½œå¯ä»¥å‚è€ƒ <a href="https://joyofcode.xyz/template-strings-syntax-highlight" target="_blank">joyofcode çš„è¿™ç¯‡æ–‡ç« </a>ã€‚</p>
</article><article id="2024-09-28T0820"><header class="flex gap-4 items-center"><time datetime="">2024-09-28</time><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-28T0820">å°† Vite é¡¹ç›®éƒ¨ç½²åˆ° GitHub Page</a></h1><p>1ã€å®‰è£… gh-pages</p>

    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">npm</span><span style="color:#CE9178"> i</span><span style="color:#569CD6"> -D</span><span style="color:#CE9178"> gh-pages</span></span></code></pre>

    </div><p>2ã€ä¿®æ”¹æœ¬åœ°ä»£ç ï¼š</p>
<p>å¯¹ vite.config.js è¿›è¡Œä¿®æ”¹ã€‚è®°å¾—å°† <code>&quot;/repo-name/&quot;</code> çš„ repo-name æ”¹æˆå¯¹åº”çš„ä»“åº“åã€‚</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">defineConfig</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "vite"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">export</span><span style="color:#C586C0"> default</span><span style="color:#DCDCAA"> defineConfig</span><span style="color:#D4D4D4">({</span></span>
<span class="line"><span style="color:#9CDCFE">  base:</span><span style="color:#9CDCFE"> mode</span><span style="color:#D4D4D4"> === </span><span style="color:#CE9178">"development"</span><span style="color:#D4D4D4"> ? </span><span style="color:#CE9178">"/"</span><span style="color:#D4D4D4"> : </span><span style="color:#CE9178">"/repo-name/"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#D4D4D4">});</span></span></code></pre>

    </div><p>ä¿®æ”¹ package.json:</p>

    <div class="code-block__wrapper language-json">
      <div class="code-block__header">
        <span class="lang">json</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-json"><span class="line"><span style="color:#D4D4D4">{</span></span>
<span class="line"><span style="color:#9CDCFE">  "scripts"</span><span style="color:#D4D4D4">: {</span></span>
<span class="line"><span style="color:#9CDCFE">    "predeploy"</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"npm run build"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">    "deploy"</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"gh-pages -d dist"</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p>3ã€è¿è¡Œ <code>npm run deploy</code> å‘½ä»¤ã€‚</p>
</article><article id="2024-09-27T0800"><header class="flex gap-4 items-center"><time datetime="">2024-09-27</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-27T0800">js - enable type checking in javascript</a></h1><h2>ä¸€ã€å¯ç”¨ type checking</h2>
<p>æ–¹å¼ä¸€ï¼šåœ¨é¡¹ç›®æ ¹ç›®å½•é‡Œæ·»åŠ  <code>jsconfig.json</code>ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p>

    <div class="code-block__wrapper language-json">
      <div class="code-block__header">
        <span class="code-block__filename">jsconfig.json</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-json"><span class="line"><span style="color:#D4D4D4">{</span></span>
<span class="line"><span style="color:#9CDCFE">  "compilerOptions"</span><span style="color:#D4D4D4">: {</span></span>
<span class="line"><span style="color:#9CDCFE">    "checkJs"</span><span style="color:#D4D4D4">: </span><span style="color:#569CD6">true</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">    "strict"</span><span style="color:#D4D4D4">: </span><span style="color:#569CD6">true</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p>æ–¹å¼äºŒï¼šåœ¨ä½ æ­£åœ¨å·¥ä½œçš„ JavaScript æ–‡ä»¶çš„æœ€ä¸Šæ–¹æ·»åŠ å¦‚ä¸‹æ³¨é‡Šï¼š</p>
<ul>
<li>è¯¥æ³¨é‡Šçš„ä½œç”¨æ˜¯ï¼šEnables semantic checking in a JavaScript file. Must be at the top of a file.</li>
</ul>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#6A9955">// @ts-check</span></span></code></pre>

    </div><p>è¿™ä¹ˆåšç›¸å½“äºåœ¨ jsconfig.json é‡Œæ·»åŠ å¦‚ä¸‹é…ç½®ï¼Œä½†ä»…é™äºå½“å‰æ–‡ä»¶ï¼Œå¹¶ä¸”æ²¡æœ‰ <code>&quot;strict&quot;: true</code>ï¼Œæ„å‘³ç€å‡ºç°ç±»å‹é—®é¢˜æ—¶ä¸ä¼šæŠ¥é”™ã€‚</p>

    <div class="code-block__wrapper language-json">
      <div class="code-block__header">
        <span class="lang">json</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-json"><span class="line"><span style="color:#D4D4D4">{</span></span>
<span class="line"><span style="color:#9CDCFE">  "compilerOptions"</span><span style="color:#D4D4D4">: {</span></span>
<span class="line"><span style="color:#9CDCFE">    "checkJs"</span><span style="color:#D4D4D4">: </span><span style="color:#569CD6">true</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><h2>äºŒã€add typing</h2>
<p>ç¤ºä¾‹ä¸€ï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="code-block__filename">main.js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#6A9955">/**</span></span>
<span class="line"><span style="color:#6A9955"> * </span><span style="color:#569CD6">@param</span><span style="color:#4EC9B0"> {number}</span><span style="color:#9CDCFE"> age</span></span>
<span class="line"><span style="color:#6A9955"> */</span></span>
<span class="line"><span style="color:#569CD6">function</span><span style="color:#DCDCAA"> dada</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">age</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#6A9955">  //</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p>ç¤ºä¾‹äºŒï¼š</p>

    <div class="code-block__wrapper language-ts">
      <div class="code-block__header">
        <span class="code-block__filename">types.d.ts</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-ts"><span class="line"><span style="color:#C586C0">export</span><span style="color:#569CD6"> type</span><span style="color:#4EC9B0"> Site</span><span style="color:#D4D4D4"> = {</span></span>
<span class="line"><span style="color:#9CDCFE">  title</span><span style="color:#D4D4D4">: </span><span style="color:#4EC9B0">string</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">  url</span><span style="color:#D4D4D4">: </span><span style="color:#4EC9B0">string</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">};</span></span></code></pre>

    </div>
    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="code-block__filename">main.js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#6A9955">/**</span></span>
<span class="line"><span style="color:#6A9955"> * </span><span style="color:#569CD6">@returns</span><span style="color:#4EC9B0"> {import('./types').Site}</span></span>
<span class="line"><span style="color:#6A9955"> */</span></span>
<span class="line"><span style="color:#569CD6">function</span><span style="color:#DCDCAA"> mdToData</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">title:</span><span style="color:#CE9178"> ""</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">url:</span><span style="color:#CE9178"> ""</span><span style="color:#D4D4D4"> };</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div>
    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="code-block__filename">main.js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">function</span><span style="color:#DCDCAA"> mdToData</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#6A9955">  /** </span><span style="color:#569CD6">@type</span><span style="color:#4EC9B0"> {import('./types').Site}</span><span style="color:#6A9955"> */</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> site</span><span style="color:#D4D4D4"> = { </span><span style="color:#9CDCFE">title:</span><span style="color:#CE9178"> ""</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">url:</span><span style="color:#CE9178"> ""</span><span style="color:#D4D4D4"> };</span></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#9CDCFE"> site</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div></article><article id="2024-09-26T0800"><header class="flex gap-4 items-center"><time datetime="">2024-09-26</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-26T0800">js - this in event handler</a></h1><p>ä¸€ã€å½“äº‹ä»¶å¤„ç†ç¨‹åºä¸ºç®­å¤´å‡½æ•°æ—¶ï¼Œ<code>this</code> æ˜¯ <code>undefined</code>ã€‚</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#9CDCFE">$btn</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">addEventListener</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"click"</span><span style="color:#D4D4D4">, () </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#569CD6">this</span><span style="color:#D4D4D4">); </span><span style="color:#6A9955">// this is undefined.</span></span>
<span class="line"><span style="color:#D4D4D4">});</span></span></code></pre>

    </div><p>äºŒã€å½“äº‹ä»¶å¤„ç†ç¨‹åºæ˜¯æ™®é€šå‡½æ•°æ—¶ï¼Œ<code>this</code> æ˜¯ç»‘å®šè¯¥äº‹ä»¶å¤„ç†ç¨‹åºçš„å…ƒç´ ã€‚</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#9CDCFE">$btn</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">addEventListener</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"click"</span><span style="color:#D4D4D4">, </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> () {</span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#569CD6">this</span><span style="color:#D4D4D4">); </span><span style="color:#6A9955">// this is $btn element.</span></span>
<span class="line"><span style="color:#D4D4D4">});</span></span></code></pre>

    </div></article><article id="2024-09-14T0800"><header class="flex gap-4 items-center"><time datetime="">2024-09-14</time><span>#open_api</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-14T0800">TMDB API</a></h1><h2>Links Shortcut</h2>
<p><a href="https://www.themoviedb.org/settings/api" target="_blank">My API Settings â€” The Movie Database (TMDB)</a></p>
<ul>
<li>Here, you can get your API Key or API Read Access Token.</li>
</ul>
<p><a href="https://www.themoviedb.org/" target="_blank">The Movie Database (TMDB)</a></p>
<h2>èº«ä»½éªŒè¯</h2>
<p><a href="https://developer.themoviedb.org/docs/authentication-application" target="_blank">https://developer.themoviedb.org/docs/authentication-application</a></p>
<p>â†“</p>
<p>èº«ä»½éªŒè¯æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<p>ä¸€æ˜¯ï¼šUse your <strong>API Key</strong> as query parameter</p>

    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">curl</span><span style="color:#569CD6"> --request</span><span style="color:#CE9178"> GET</span><span style="color:#D7BA7D"> \</span></span>
<span class="line"><span style="color:#569CD6">     --url</span><span style="color:#CE9178"> 'https://api.themoviedb.org/3/movie/11?api_key=&#x3C;API_KEY>'</span></span></code></pre>

    </div><p>äºŒæ˜¯ï¼šUse your <strong>API Read Access Token</strong> as a <code>Bearer</code> token</p>

    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">curl</span><span style="color:#569CD6"> --request</span><span style="color:#CE9178"> GET</span><span style="color:#D7BA7D"> \</span></span>
<span class="line"><span style="color:#569CD6">     --url</span><span style="color:#CE9178"> 'https://api.themoviedb.org/3/movie/11'</span><span style="color:#D7BA7D"> \</span></span>
<span class="line"><span style="color:#569CD6">     --header</span><span style="color:#CE9178"> 'Authorization: Bearer ACCESS_TOKEN'</span></span></code></pre>

    </div><h2>å¸¸ç”¨æ¥å£</h2>
<p>ä¸€ã€æ¥å£ä½¿ç”¨æŒ‡å—</p>
<p><a href="https://developer.themoviedb.org/docs/search-and-query-for-details" target="_blank">https://developer.themoviedb.org/docs/search-and-query-for-details</a> - Guide</p>
<p>A common workflow here on TMDB is to <strong>search for a movie (or TV show, or person) and then query for the details</strong>.</p>
<p>You can use that id to query the movie details method:</p>
<p>äºŒã€API æ–‡æ¡£</p>
<p><a href="https://developer.themoviedb.org/reference/search-movie" target="_blank">https://developer.themoviedb.org/reference/search-movie</a> - æœç´¢ç”µå½±</p>
<p><a href="https://developer.themoviedb.org/reference/movie-details" target="_blank">https://developer.themoviedb.org/reference/movie-details</a> - ç”µå½±çš„è¯¦ç»†ä¿¡æ¯</p>
<p><a href="https://developer.themoviedb.org/reference/movie-release-dates" target="_blank">https://developer.themoviedb.org/reference/movie-release-dates</a> - ç”µå½±åœ¨å„ä¸ªåœ°åŒºçš„ä¸Šæ˜ æ—¥æœŸ</p>
<p><a href="https://developer.themoviedb.org/reference/movie-credits" target="_blank">https://developer.themoviedb.org/reference/movie-credits</a> - ç”µå½±çš„æ‰€æœ‰åˆ¶ä½œäººå‘˜</p>
<p>ä¸‰ã€</p>
<p>movie-credits</p>
<ul>
<li>cast - æ¼”å‘˜</li>
<li>crew - å·¥ä½œäººå‘˜</li>
</ul>

    <div class="code-block__wrapper language-json">
      <div class="code-block__header">
        <span class="lang">json</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-json"><span class="line"><span style="color:#D4D4D4">{</span></span>
<span class="line"><span style="color:#9CDCFE">  "id"</span><span style="color:#D4D4D4">: </span><span style="color:#B5CEA8">116745</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  "cast"</span><span style="color:#D4D4D4">: [],</span></span>
<span class="line"><span style="color:#9CDCFE">  "crew"</span><span style="color:#D4D4D4">: []</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><h2>è¯­è¨€å’Œåœ°åŒº</h2>
<p><a href="https://developer.themoviedb.org/docs/languages" target="_blank">https://developer.themoviedb.org/docs/languages</a></p>
<p>æ ¼å¼ä¸º <code>language-COUNTRY</code>ï¼Œæ¯”å¦‚é»˜è®¤çš„ <code>en-US</code>ã€‚</p>
<p>The <strong>language</strong> code system we use is <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes" target="_blank">ISO 639-1</a>.</p>
<p>The <strong>country</strong> codes in use here are <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2" target="_blank">ISO 3166-1</a>.</p>
<p>â†“â†“</p>
<p><a href="https://en.wikipedia.org/wiki/List_of_ISO_639_language_codes" target="_blank">https://en.wikipedia.org/wiki/List_of_ISO_639_language_codes</a> - ISO 639</p>
<p>Language name - code</p>
<ul>
<li>Chinese - <code>zh</code></li>
<li>English - <code>en</code></li>
<li>French - <code>fr</code></li>
<li>German - <code>de</code></li>
<li>Italian - <code>it</code></li>
<li>Japanese - <code>ja</code></li>
<li>Spanish - <code>es</code></li>
</ul>
<p>â†“â†“</p>
<p><a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2" target="_blank">https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2</a> - ISO 3166-1</p>
<p>Country name - code</p>
<ul>
<li>China - <code>CN</code></li>
<li>United States of America - <code>US</code></li>
</ul>
</article><article id="2024-09-13T0800"><header class="flex gap-4 items-center"><time datetime="">2024-09-13</time><span>#astro</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-13T0800">astro - render markdown content to html</a></h1><p>You can render Markdown entries to HTML using the entry <code>render()</code> function.</p>
<p>Calling thig function gives you access to rendered content, a <code>&lt;Content /&gt;</code> component.</p>
<p>For example:</p>

    <div class="code-block__wrapper language-astro">
      <div class="code-block__header">
        <span class="lang">astro</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-astro"><span class="line"><span style="color:#6A9955">---</span></span>
<span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">getCollection</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "astro:content"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#C586C0">import</span><span style="color:#C586C0"> type</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">AstroComponentFactory</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "astro/runtime/server/index.js"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> col</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> getCollection</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"tips"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> tips</span><span style="color:#D4D4D4">: </span><span style="color:#4EC9B0">AstroComponentFactory</span><span style="color:#D4D4D4">[] = [];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">for</span><span style="color:#D4D4D4"> (</span><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> item</span><span style="color:#569CD6"> of</span><span style="color:#9CDCFE"> tipsCol</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#D4D4D4"> { </span><span style="color:#4FC1FF">Content</span><span style="color:#D4D4D4"> } = </span><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> item</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">render</span><span style="color:#D4D4D4">();</span></span>
<span class="line"><span style="color:#9CDCFE">  tips</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">push</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">Content</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"><span style="color:#6A9955">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">{</span></span>
<span class="line"><span style="color:#9CDCFE">  tips</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">map</span><span style="color:#D4D4D4">((</span><span style="color:#9CDCFE">Content</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> (</span></span>
<span class="line"><span style="color:#808080">    &#x3C;</span><span style="color:#569CD6">article</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">      &#x3C;</span><span style="color:#4EC9B0">Content</span><span style="color:#808080"> /></span></span>
<span class="line"><span style="color:#808080">    &#x3C;/</span><span style="color:#569CD6">article</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#D4D4D4">  ))</span></span>
<span class="line"><span style="color:#569CD6">}</span></span></code></pre>

    </div><p>source: <a href="https://docs.astro.build/en/guides/content-collections/#rendering-content-to-html" target="_blank">https://docs.astro.build/en/guides/content-collections/#rendering-content-to-html</a></p>
</article><article id="2024-09-13T0810"><header class="flex gap-4 items-center"><time datetime="">2024-09-13</time><span>#astro</span><span>#svelte</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-13T0810">astro - using with svelte</a></h1><h2>å®‰è£…</h2>
<p>æŒ‰ç…§<a href="https://docs.astro.build/en/guides/integrations-guide/svelte/" target="_blank">æ–‡æ¡£</a>å®‰è£…å³å¯ã€‚</p>
<h2>ç”¨æ³•</h2>
<p>Use your Svelte components in your Astro pages, layouts and components <strong>just like Astro components</strong>!</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>

    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="code-block__filename">src\components\Counter.svelte</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">button</span><span style="color:#808080">></span><span style="color:#D4D4D4">click</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">button</span><span style="color:#808080">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">style</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#D7BA7D">  button</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">    color</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">red</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">style</span><span style="color:#808080">></span></span></code></pre>

    </div>
    <div class="code-block__wrapper language-astro">
      <div class="code-block__header">
        <span class="code-block__filename">src\pages\somepage.astro</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-astro"><span class="line"><span style="color:#6A9955">---</span></span>
<span class="line"><span style="color:#C586C0">import</span><span style="color:#9CDCFE"> Counter</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "../components/Counter.svetle"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#6A9955">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#4EC9B0">Counter</span><span style="color:#808080"> /></span></span></code></pre>

    </div></article><article id="2024-09-13T0820"><header class="flex gap-4 items-center"><time datetime="">2024-09-13</time><span>#astro</span><span>#web_component</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-13T0820">astro - using with web component</a></h1><h2>ç¤ºä¾‹</h2>

    <div class="code-block__wrapper language-astro">
      <div class="code-block__header">
        <span class="lang">astro</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-astro"><span class="line"><span style="color:#6A9955">---</span></span>
<span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">getEntry</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> 'astro:content'</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> entry</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> getEntry</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">'blog'</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">'post-1'</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> { </span><span style="color:#4FC1FF">Content</span><span style="color:#D4D4D4"> } = </span><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> entry</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">render</span><span style="color:#D4D4D4">();</span></span>
<span class="line"><span style="color:#6A9955">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#4EC9B0">Content</span><span style="color:#808080"> /></span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">script</span><span style="color:#808080">></span></span>
<span class="line highlighted"><span style="color:#569CD6">  class</span><span style="color:#4EC9B0"> LiveDemo</span><span style="color:#569CD6"> extends</span><span style="color:#4EC9B0"> HTMLElement</span><span style="color:#D4D4D4"> {</span></span>
<span class="line highlighted"><span style="color:#569CD6">    constructor</span><span style="color:#D4D4D4">() {</span></span>
<span class="line highlighted"><span style="color:#569CD6">      super</span><span style="color:#D4D4D4">();</span></span>
<span class="line highlighted"><span style="color:#D4D4D4">    }</span></span>
<span class="line highlighted"><span style="color:#D4D4D4">  }</span></span>
<span class="line highlighted"></span>
<span class="line highlighted"><span style="color:#9CDCFE">  customElements</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">define</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"live-demo"</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">LiveDemo</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">script</span><span style="color:#808080">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">style</span><span style="color:#9CDCFE"> is:global</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#569CD6">  live-demo</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">    display</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">block</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">    border</span><span style="color:#D4D4D4">: </span><span style="color:#B5CEA8">1px</span><span style="color:#CE9178"> solid</span><span style="color:#CE9178"> gray</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">    border-radius</span><span style="color:#D4D4D4">: </span><span style="color:#B5CEA8">4px</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">    padding</span><span style="color:#D4D4D4">: </span><span style="color:#B5CEA8">1rem</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">style</span><span style="color:#808080">></span></span></code></pre>

    </div><p>Here, I define a custom element called <code>live-demo</code>.</p>

    <div class="code-block__wrapper language-md">
      <div class="code-block__header">
        <span class="code-block__filename">src/content/blog/post-1.md</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-txt"><span class="line"><span>## CSS Disaplay Hidden Elment on Hover</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&#x3C;live-demo></span></span>
<span class="line"><span>  &#x3C;div class="css-display-hidden-element-on-hover">&#x3C;/div></span></span>
<span class="line"><span>  &#x3C;style></span></span>
<span class="line"><span>    .css-display-hidden-element-on-hover {</span></span>
<span class="line"><span>      opacity: 0;</span></span>
<span class="line"><span>      &#x26;:hover {</span></span>
<span class="line"><span>        opacity: 100;</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>      width: 100px;</span></span>
<span class="line"><span>      height: 100px;</span></span>
<span class="line"><span>      background-color: red;</span></span>
<span class="line"><span>      margin: auto;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  &#x3C;/style></span></span>
<span class="line"><span>&#x3C;/live-demo></span></span></code></pre>

    </div><p>Here, I use the <code>live-demo</code> custom element in my markdown.</p>
<h2>FIN</h2>
<p>source: <a href="https://docs.astro.build/en/guides/client-side-scripts/#web-components-with-custom-elements" target="_blank">https://docs.astro.build/en/guides/client-side-scripts/#web-components-with-custom-elements</a></p>
</article><article id="2024-09-13T0830"><header class="flex gap-4 items-center"><time datetime="">2024-09-13</time><span>#astro</span><span>#svelte</span><span>#web_component</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-13T0830">astro - using with svelte as web component</a></h1><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šä¹‹æ‰€ä»¥è¦å°† Svelte component åšæˆ custom elementï¼Œæ˜¯å› ä¸ºè¿™ä¸ª custom element è¦åº”ç”¨çš„åœ°æ–¹æ˜¯åœ¨ä½œä¸º content çš„ Markdown æ–‡ä»¶é‡Œï¼Œè€Œä¸æ˜¯åœ¨ Astro çš„ template é‡Œã€‚</p>
<h2>ç¤ºä¾‹</h2>

    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="code-block__filename">src/web-components/LiveDemo.svelte</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#F44747">svelte:options</span><span style="color:#9CDCFE"> customElement</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"live-demo"</span><span style="color:#808080"> /></span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">div</span><span style="color:#808080">></span><span style="color:#D4D4D4">Opacity</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">div</span><span style="color:#808080">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">style</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#D7BA7D">  div</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">    opacity</span><span style="color:#D4D4D4">: </span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4">    &#x26;:hover {</span></span>
<span class="line"><span style="color:#D4D4D4">      opacity: </span><span style="color:#B5CEA8">100</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4">    width: 100px;</span></span>
<span class="line"><span style="color:#D4D4D4">    height: 100px;</span></span>
<span class="line"><span style="color:#569CD6">    background-color</span><span style="color:#D4D4D4">: brown;</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#D4D4D4">&#x3C;/</span><span style="color:#D7BA7D">style</span><span style="color:#D4D4D4">></span></span></code></pre>

    </div><p>Here, I define a custom element called <code>live-demo</code> using Svelte.</p>

    <div class="code-block__wrapper language-astro">
      <div class="code-block__header">
        <span class="code-block__filename">src/pages/index.astro</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-astro"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">script</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#C586C0">  import</span><span style="color:#CE9178"> "../web-components/LiveDemo.svelte"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">script</span><span style="color:#808080">></span></span></code></pre>

    </div><p>Here, I ...</p>

    <div class="code-block__wrapper language-md">
      <div class="code-block__header">
        <span class="code-block__filename">src/content/post/001.md</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-txt"><span class="line"><span>## Hello</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&#x3C;live-demo></span></span>
<span class="line"><span>&#x3C;/live-demo></span></span></code></pre>

    </div><p>Here, I use the <code>live-demo</code> custom element in my markdown.</p>
<h2>FIN</h2>
<p><a href="https://jakelazaroff.com/words/web-components-eliminate-javascript-framework-lock-in/#todo-items" target="_blank">https://jakelazaroff.com/words/web-components-eliminate-javascript-framework-lock-in/#todo-items</a></p>
<ul>
<li>Svelte supports custom elements out of the box. <strong>Rather than continuing to show the same web component wrapper boilerplate every time, weâ€™ll just use that feature!</strong></li>
</ul>
<p><a href="https://svelte.dev/docs/custom-elements-api" target="_blank">https://svelte.dev/docs/custom-elements-api</a></p>
<p><a href="https://svelte.dev/docs/special-elements#svelte-options" target="_blank">https://svelte.dev/docs/special-elements#svelte-options</a></p>
</article><article id="2024-09-13T0840"><header class="flex gap-4 items-center"><time datetime="">2024-09-13</time><span>#svelte</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-13T0840">svelte - somthing like children prop in react</a></h1><p>You can use slot. It is a component provided by svelte. You can use it inside your component. <strong>Whatever is passed to component will be rendered in place of slot</strong>.</p>

    <div class="code-block__wrapper language-svelte">
      <div class="code-block__header">
        <span class="code-block__filename">Widget.svelte</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-txt"><span class="line"><span>&#x3C;div></span></span>
<span class="line"><span>	&#x3C;slot /></span></span>
<span class="line"><span>&#x3C;/div></span></span></code></pre>

    </div><p>Here, I define a Svelte component, which using the <code>&lt;slot&gt;</code> element to render whatever is passed to this component.</p>

    <div class="code-block__wrapper language-svelte">
      <div class="code-block__header">
        <span class="code-block__filename">App.svelte</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-txt"><span class="line"><span>&#x3C;Widget></span></span>
<span class="line"><span>	&#x3C;p>this is some child content that will overwrite the default slot content&#x3C;/p></span></span>
<span class="line"><span>&#x3C;/Widget></span></span></code></pre>

    </div><p>Here, I use the <code>&lt;Widget /&gt;</code> component and pass some content to it.</p>
<h2>FIN</h2>
<p><a href="https://stackoverflow.com/questions/57062741/svelte-equivalent-of-reacts-props-children" target="_blank">javascript - Svelte equivalent of React's props.children? - Stack Overflow</a></p>
<ul>
<li>You can use slot. It is a component provided by svelte. You can use it inside your component. <strong>Whatever is passed to component will be rendered in place of slot</strong>.</li>
</ul>
<p><a href="https://svelte.dev/docs/special-elements#slot" target="_blank">https://svelte.dev/docs/special-elements#slot</a></p>
<ul>
<li>Components can have child content, in the same way that elements can. The content is exposed in the child component using the <code>&lt;slot&gt;</code> element.</li>
</ul>
</article><article id="2024-09-13T0850"><header class="flex gap-4 items-center"><time datetime="">2024-09-13</time><span>#vscode</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-13T0850">vscode - enable html autocompletion on markdown</a></h1><p>To do this, you should change your Emmet configuration.</p>
<h2>å‚è€ƒ</h2>
<p><a href="https://github.com/nuxt/content/issues/23" target="_blank">https://github.com/nuxt/content/issues/23</a></p>
<ol>
<li>Delete markdown from excluded languages. Seems it's there by default</li>
</ol>

    <div class="code-block__wrapper language-json">
      <div class="code-block__header">
        <span class="lang">json</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-json"><span class="line"><span style="color:#CE9178">  "emmet.excludeLanguages"</span><span style="color:#D4D4D4">: []</span></span></code></pre>

    </div><ol start="2">
<li>Include markdown but as html, so I get suggestions too</li>
</ol>

    <div class="code-block__wrapper language-json">
      <div class="code-block__header">
        <span class="lang">json</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-json"><span class="line"><span style="color:#CE9178">  "emmet.includeLanguages"</span><span style="color:#D4D4D4">: {</span></span>
<span class="line"><span style="color:#9CDCFE">    "markdown"</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"html"</span></span>
<span class="line"><span style="color:#D4D4D4">  },</span></span></code></pre>

    </div><p>Now you can have html in md fully!</p>
<h2>å‚è€ƒ</h2>
<p>Emmet: Exclude Languages</p>
<ul>
<li>An array of languages where Emmet abbreviations should not be expanded.</li>
</ul>
<p>Emmet: Include Languages</p>
<ul>
<li>Enable Emmet abbreviations in languages that are not supported by default.</li>
<li>Add a mapping here between the language and Emmet supported language.</li>
<li>For example: <code>{&quot;vue-html&quot;: &quot;html&quot;, &quot;javascript&quot;: &quot;javascriptreact&quot;}</code></li>
</ul>
</article><article id="2024-09-12T0800"><header class="flex gap-4 items-center"><time datetime="">2024-09-12</time><span>#astro</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-12T0800">astro - get collection</a></h1><h2>Get all entries from a collection</h2>
<p>You can use <code>getCollection()</code> to get all entries from a collection.</p>
<p>For example, let's retrieve all entries from <code>src/content/blog/**</code>.</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">getCollection</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "astro:content"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// Pass the name of the collection as an argument to `getCollection()`</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> allBlogPosts</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> getCollection</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"blog"</span><span style="color:#D4D4D4">);</span></span></code></pre>

    </div><h2>Get a single entry from a collection</h2>
<p>You can use <code>getEntry()</code> to get a single entry from a collection.</p>
<p>For example, let's retrieve the entry from <code>src/content/blog/blog-01.md</code></p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">getEntry</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "astro:content"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// Pass the name of the collection and either</span></span>
<span class="line"><span style="color:#6A9955">// the entry `slug` (content collections) or `id` (data collections)</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> blog01</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> getEntry</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"blog"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"blog-01"</span><span style="color:#D4D4D4">);</span></span></code></pre>

    </div><h2>FIN</h2>
<p>source: <a href="https://docs.astro.build/en/guides/content-collections/#querying-collections" target="_blank">Content Collections | Docs</a></p>
</article><article id="2024-09-12T0810"><header class="flex gap-4 items-center"><time datetime="">2024-09-12</time><span>#astro</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-12T0810">astro - get all pages</a></h1>
    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#9CDCFE"> fs</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "node:fs/promises"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#C586C0">import</span><span style="color:#9CDCFE"> path</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "node:path"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">export</span><span style="color:#569CD6"> async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> getAllPages</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> pagesDir</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">path</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">join</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">process</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">cwd</span><span style="color:#D4D4D4">(), </span><span style="color:#CE9178">"src"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"pages"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> files</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> fs</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">readdir</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">pagesDir</span><span style="color:#D4D4D4">); </span><span style="color:#6A9955">// [ 'index.astro', 'xxx.astro', ... ]</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> routes</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">files</span></span>
<span class="line"><span style="color:#D4D4D4">    .</span><span style="color:#DCDCAA">filter</span><span style="color:#D4D4D4">((</span><span style="color:#9CDCFE">file</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#9CDCFE"> file</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">endsWith</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">".astro"</span><span style="color:#D4D4D4">))</span></span>
<span class="line"><span style="color:#D4D4D4">    .</span><span style="color:#DCDCAA">map</span><span style="color:#D4D4D4">((</span><span style="color:#9CDCFE">file</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#9CDCFE"> file</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">slice</span><span style="color:#D4D4D4">(</span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">, -</span><span style="color:#B5CEA8">6</span><span style="color:#D4D4D4">)) </span><span style="color:#6A9955">// ".astro".length = 6</span></span>
<span class="line"><span style="color:#D4D4D4">    .</span><span style="color:#DCDCAA">filter</span><span style="color:#D4D4D4">((</span><span style="color:#9CDCFE">route</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#9CDCFE"> route</span><span style="color:#D4D4D4"> !== </span><span style="color:#CE9178">"index"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#9CDCFE"> routes</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div></article><article id="2024-09-12T0820"><header class="flex gap-4 items-center"><time datetime="">2024-09-12</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-12T0820">javascript - `closest()`</a></h1>
    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="lang">html</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">div</span><span style="color:#9CDCFE"> id</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"goal-list"</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">  &#x3C;</span><span style="color:#569CD6">div</span><span style="color:#9CDCFE"> class</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"goal"</span><span style="color:#9CDCFE"> data-goal</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">    &#x3C;</span><span style="color:#569CD6">span</span><span style="color:#808080">></span><span style="color:#D4D4D4">goal 01</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">span</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">  &#x3C;/</span><span style="color:#569CD6">div</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">  &#x3C;</span><span style="color:#569CD6">div</span><span style="color:#9CDCFE"> class</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"goal"</span><span style="color:#9CDCFE"> data-goal</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">    &#x3C;</span><span style="color:#569CD6">span</span><span style="color:#808080">></span><span style="color:#D4D4D4">goal 02</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">span</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">  &#x3C;/</span><span style="color:#569CD6">div</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">  &#x3C;</span><span style="color:#569CD6">div</span><span style="color:#9CDCFE"> class</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"goal"</span><span style="color:#9CDCFE"> data-goal</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">    &#x3C;</span><span style="color:#569CD6">span</span><span style="color:#808080">></span><span style="color:#D4D4D4">goal 03</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">span</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">  &#x3C;/</span><span style="color:#569CD6">div</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">div</span><span style="color:#808080">></span></span></code></pre>

    </div><p>æˆ‘æƒ³åœ¨ list root element å³ <code>#goal-list</code> ä¸Šç»‘å®šäº‹ä»¶ï¼Œä½†ç›‘å¬çš„æ˜¯ list item element å³ <code>.goal</code>ï¼Œå¦‚ä½•å®ç°ï¼Ÿ</p>
<p>è¿™é‡Œçš„éš¾ç‚¹åœ¨äº <code>e.target</code> é™¤äº† list-item è‡ªå·±å¤–ï¼Œè¿˜æœ‰å¯èƒ½æ˜¯å®ƒçš„åä»£å…ƒç´ ã€‚ä½†æˆ‘æƒ³è¦åšå‡ºçš„ side effect æ˜¯é’ˆå¯¹ list-item çš„ï¼Œæ‰€ä»¥æˆ‘è¦ç¡®ä¿æ‹¿åˆ°çš„æ˜¯ list-item å…ƒç´ ã€‚</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> $goals</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">document</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">getElementById</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"goal-list"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE">$goals</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">addEventListener</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"click"</span><span style="color:#D4D4D4">, (</span><span style="color:#9CDCFE">e</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#6A9955">  // the closest ancestor with the attribute of "data-goal"</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> $goal</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">e</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">target</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">closest</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"[data-goal]"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">$goal</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#6A9955">    // ...</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#D4D4D4">});</span></span></code></pre>

    </div><h2><code>closest()</code></h2>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/closest" target="_blank">Element: closest() method - Web APIs | MDN</a></p>
<p>Return: The closest ancestor <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element" target="_blank"><code>Element</code></a> or itself, which matches the <code>selectors</code>. If there are no such element, <code>null</code>.</p>
</article><article id="2024-09-12T0830"><header class="flex gap-4 items-center"><time datetime="">2024-09-12</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-12T0830">js - `classList`</a></h1>
    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#9CDCFE">$goal</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">classList</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">toggle</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"goals__item--completed"</span><span style="color:#D4D4D4">);</span></span></code></pre>

    </div><p>ç›¸å½“äºï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">if</span><span style="color:#D4D4D4"> (!</span><span style="color:#9CDCFE">$goal</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">classList</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">contains</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"goals__item--completed"</span><span style="color:#D4D4D4">)) {</span></span>
<span class="line"><span style="color:#9CDCFE">  $goal</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">classList</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">add</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"goals__item--completed"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">} </span><span style="color:#C586C0">else</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  $goal</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">classList</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">remove</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"goals__item--completed"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><h2><code>classList</code></h2>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/classList" target="_blank">Element: classList property - Web APIs | MDN</a></p>
<p>This can then be used to manipulate the class list.</p>
<p>Using <code>classList</code> is a convenient alternative to accessing an element's list of classes as a space-delimited string via <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/className" target="_blank"><code>element.className</code></a>.</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#6A9955">// if visible is set remove it, otherwise add it</span></span>
<span class="line"><span style="color:#9CDCFE">div</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">classList</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">toggle</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"visible"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// add/remove visible, depending on test conditional, i less than 10</span></span>
<span class="line"><span style="color:#9CDCFE">div</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">classList</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">toggle</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"visible"</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">i</span><span style="color:#D4D4D4"> &#x3C; </span><span style="color:#B5CEA8">10</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// false</span></span>
<span class="line"><span style="color:#9CDCFE">console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">div</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">classList</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">contains</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"foo"</span><span style="color:#D4D4D4">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// add or remove multiple classes</span></span>
<span class="line"><span style="color:#9CDCFE">div</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">classList</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">add</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"foo"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"bar"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"baz"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#9CDCFE">div</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">classList</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">remove</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"foo"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"bar"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"baz"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// replace class "foo" with class "bar"</span></span>
<span class="line"><span style="color:#9CDCFE">div</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">classList</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">replace</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"foo"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"bar"</span><span style="color:#D4D4D4">);</span></span></code></pre>

    </div></article><article id="2024-09-12T0840"><header class="flex gap-4 items-center"><time datetime="">2024-09-12</time><span>#css</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-12T0840">css disable select text</a></h1><p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/user-select" target="_blank">user-select - CSS: Cascading Style Sheets | MDN</a></p>
<p>The <strong><code>user-select</code></strong> <a href="https://developer.mozilla.org/en-US/docs/Web/CSS" target="_blank">CSS</a> property <strong>controls whether the user can select text</strong>.</p>
<p>æ³¨æ„ï¼šSafari - Implemented with the vendor prefix: <code>-webkit-</code></p>
<p><a href="https://stackoverflow.com/questions/826782/how-to-disable-text-selection-highlighting" target="_blank">css - How to disable text selection highlighting - Stack Overflow</a></p>

    <div class="code-block__wrapper language-css">
      <div class="code-block__header">
        <span class="lang">css</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-css"><span class="line"><span style="color:#D7BA7D">.noselect</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  -webkit-touch-callout</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">none</span><span style="color:#D4D4D4">; </span><span style="color:#6A9955">/* iOS Safari */</span></span>
<span class="line"><span style="color:#9CDCFE">  -webkit-user-select</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">none</span><span style="color:#D4D4D4">; </span><span style="color:#6A9955">/* Safari */</span></span>
<span class="line"><span style="color:#9CDCFE">  -khtml-user-select</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">none</span><span style="color:#D4D4D4">; </span><span style="color:#6A9955">/* Konqueror HTML */</span></span>
<span class="line"><span style="color:#9CDCFE">  -moz-user-select</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">none</span><span style="color:#D4D4D4">; </span><span style="color:#6A9955">/* Old versions of Firefox */</span></span>
<span class="line"><span style="color:#9CDCFE">  -ms-user-select</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">none</span><span style="color:#D4D4D4">; </span><span style="color:#6A9955">/* Internet Explorer/Edge */</span></span>
<span class="line"><span style="color:#9CDCFE">  user-select</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">none</span><span style="color:#D4D4D4">; </span><span style="color:#6A9955">/* Non-prefixed version, currently</span></span>
<span class="line"><span style="color:#6A9955">                                  supported by Chrome, Edge, Opera and Firefox */</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div></article><article id="2024-09-12T0850"><header class="flex gap-4 items-center"><time datetime="">2024-09-12</time><span>#astro</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-12T0850">astro - get value from front matter in client script</a></h1><h2>01</h2>
<p><a href="https://docs.astro.build/en/guides/client-side-scripts/#pass-frontmatter-variables-to-scripts" target="_blank">https://docs.astro.build/en/guides/client-side-scripts/#pass-frontmatter-variables-to-scripts</a></p>
<p>To send variables from the server to the client, we need a way to store our variables and then read them when JavaScript runs in the browser.</p>
<p>One way to do this is to use <a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" target="_blank"><code>data-*</code> attributes</a> to store the value of variables in your HTML output.</p>
<p>Scripts, including custom elements, can then read these attributes using an elementâ€™s <code>dataset</code> property once your HTML loads in the browser.</p>
<p>â†’ ä½†è¿™ç§è‚¯å®šä¸é€‚åˆä¸€ä¸ªå¤§æ•°ç»„å§ï¼</p>
<h2>02</h2>
<p><a href="https://alejandrocelaya.blog/2023/11/05/build-a-search-page-for-your-astro-static-blog-with-fuse-js/" target="_blank">https://alejandrocelaya.blog/2023/11/05/build-a-search-page-for-your-astro-static-blog-with-fuse-js/</a></p>
<p>Another approach would be to expose the list of posts via a separated JSON file (AKA <a href="https://docs.astro.build/en/core-concepts/endpoints/" target="_blank">Astro endpoint</a>), and let the <code>Search</code> component load it asynchronously.</p>
</article><article id="2024-09-12T0900"><header class="flex gap-4 items-center"><time datetime="">2024-09-12</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-12T0900">js ä¿®æ”¹æŒ‡å®šç´¢å¼•ä½ç½®çš„å­—ç¬¦</a></h1>
    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">function</span><span style="color:#DCDCAA"> replaceAt</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">str</span><span style="color:#D4D4D4">: </span><span style="color:#4EC9B0">string</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">index</span><span style="color:#D4D4D4">: </span><span style="color:#4EC9B0">number</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">replacement</span><span style="color:#D4D4D4">: </span><span style="color:#4EC9B0">string</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#C586C0">	return</span><span style="color:#9CDCFE"> str</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">slice</span><span style="color:#D4D4D4">(</span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">index</span><span style="color:#D4D4D4">) + </span><span style="color:#9CDCFE">replacement</span><span style="color:#D4D4D4"> + </span><span style="color:#9CDCFE">str</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">slice</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">index</span><span style="color:#D4D4D4"> + </span><span style="color:#B5CEA8">1</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><h2>å‚è€ƒ</h2>
<p><a href="https://stackoverflow.com/questions/1431094/how-do-i-replace-a-character-at-a-specific-index-in-javascript" target="_blank">string - How do I replace a character at a specific index in JavaScript? - Stack Overflow</a></p>
<p>There is no <code>replaceAt</code> function in JavaScript.</p>
</article><article id="2024-09-09T0800"><header class="flex gap-4 items-center"><time datetime="">2024-09-09</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-09T0800">continue, break and return in JavaScript</a></h1><p>å…¶å®å¯¹æ¯”ä¸‹æ¥ï¼ŒåŒºåˆ«å·²ç»å¾ˆæ˜æ˜¾äº†ï¼š</p>
<ul>
<li><code>continue</code> çš„è¯æ˜¯ï¼šè·³è¿‡å½“å‰è¿­ä»£çš„å‰©ä½™è¯­å¥ï¼Œç›´æ¥è·³è½¬åˆ°å¾ªç¯çš„ä¸‹ä¸€ä¸ªè¿­ä»£ã€‚ä¹Ÿå°±æ˜¯è·³å‡ºè¿­ä»£ã€‚</li>
<li><code>break</code> çš„è¯æ˜¯ï¼šè·³è¿‡å½“å‰è¿­ä»£çš„å‰©ä½™è¯­å¥ã€ä»¥åŠæ‰€æœ‰å‰©ä¸‹çš„è¿­ä»£ï¼Œç›´æ¥è·³è½¬åˆ° for loop åé¢çš„è¯­å¥ã€‚ä¹Ÿå°±æ˜¯è·³å‡ºå¾ªç¯ã€‚</li>
<li><code>return</code> çš„è¯æ˜¯ï¼šç›´æ¥ç»ˆæ­¢å‡½æ•°çš„è¿è¡Œã€‚</li>
</ul>
<h2>continue</h2>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">function</span><span style="color:#DCDCAA"> bar</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> result</span><span style="color:#D4D4D4"> = [];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  for</span><span style="color:#D4D4D4"> (</span><span style="color:#569CD6">let</span><span style="color:#9CDCFE"> count</span><span style="color:#D4D4D4"> = </span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">; </span><span style="color:#9CDCFE">count</span><span style="color:#D4D4D4"> &#x3C; </span><span style="color:#B5CEA8">9</span><span style="color:#D4D4D4">; </span><span style="color:#9CDCFE">count</span><span style="color:#D4D4D4">++) {</span></span>
<span class="line"><span style="color:#6A9955">    // å¦‚æœ count æ˜¯ä¸€ä¸ªå¥‡æ•°ï¼Œåˆ™è·³è¿‡</span></span>
<span class="line highlighted"><span style="color:#C586C0">    if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">count</span><span style="color:#D4D4D4"> % </span><span style="color:#B5CEA8">2</span><span style="color:#D4D4D4"> !== </span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">) </span><span style="color:#C586C0">continue</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE">    result</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">push</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">count</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#9CDCFE"> result</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE">console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#DCDCAA">bar</span><span style="color:#D4D4D4">());</span></span>
<span class="line"><span style="color:#6A9955">// print: [ 0, 2, 4, 6, 8 ]</span></span></code></pre>

    </div><h2>break</h2>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">function</span><span style="color:#DCDCAA"> bar</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> result</span><span style="color:#D4D4D4"> = [];</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#C586C0">  for</span><span style="color:#D4D4D4"> (</span><span style="color:#569CD6">let</span><span style="color:#9CDCFE"> count</span><span style="color:#D4D4D4"> = </span><span style="color:#B5CEA8">1</span><span style="color:#D4D4D4">; </span><span style="color:#9CDCFE">count</span><span style="color:#D4D4D4"> &#x3C; </span><span style="color:#B5CEA8">9</span><span style="color:#D4D4D4">; </span><span style="color:#9CDCFE">count</span><span style="color:#D4D4D4">++) {</span></span>
<span class="line"><span style="color:#C586C0">    if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">count</span><span style="color:#D4D4D4"> > </span><span style="color:#B5CEA8">3</span><span style="color:#D4D4D4">) </span><span style="color:#C586C0">break</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE">    result</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">push</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">count</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#9CDCFE"> result</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE">console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#DCDCAA">bar</span><span style="color:#D4D4D4">());</span></span>
<span class="line"><span style="color:#6A9955">// print: [ 1, 2, 3 ]</span></span></code></pre>

    </div><h2>return</h2>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">function</span><span style="color:#DCDCAA"> fn</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#C586C0">  for</span><span style="color:#D4D4D4"> (</span><span style="color:#569CD6">let</span><span style="color:#9CDCFE"> index</span><span style="color:#D4D4D4"> = </span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">; </span><span style="color:#9CDCFE">index</span><span style="color:#D4D4D4"> &#x3C; </span><span style="color:#B5CEA8">9</span><span style="color:#D4D4D4">; </span><span style="color:#9CDCFE">index</span><span style="color:#D4D4D4">++) {</span></span>
<span class="line"><span style="color:#9CDCFE">    console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">index</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">    if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">index</span><span style="color:#D4D4D4"> === </span><span style="color:#B5CEA8">3</span><span style="color:#D4D4D4">) {</span></span>
<span class="line highlighted"><span style="color:#C586C0">      return</span><span style="color:#569CD6"> true</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">    }</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE">console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#DCDCAA">fn</span><span style="color:#D4D4D4">());</span></span>
<span class="line"><span style="color:#6A9955">/* print:</span></span>
<span class="line"><span style="color:#6A9955">0</span></span>
<span class="line"><span style="color:#6A9955">1</span></span>
<span class="line"><span style="color:#6A9955">2</span></span>
<span class="line"><span style="color:#6A9955">3</span></span>
<span class="line"><span style="color:#6A9955">true</span></span>
<span class="line"><span style="color:#6A9955">*/</span></span></code></pre>

    </div></article><article id="2024-09-09T0810"><header class="flex gap-4 items-center"><time datetime="">2024-09-09</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-09T0810">break out of loops in JavaScript</a></h1><h2>break with for loop</h2>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œé‡Œé¢æœ‰ 0 åˆ° 3 è¿™ä¸ªå››ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬æƒ³è¦æ‰“å°å‡ºè¿™å››ä¸ªæ•°å­—ï¼Œå¯ä»¥é€šè¿‡ for å¾ªç¯æ¥å®ç°ã€‚</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> list</span><span style="color:#D4D4D4"> = [</span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">, </span><span style="color:#B5CEA8">1</span><span style="color:#D4D4D4">, </span><span style="color:#B5CEA8">2</span><span style="color:#D4D4D4">, </span><span style="color:#B5CEA8">3</span><span style="color:#D4D4D4">];</span></span>
<span class="line"><span style="color:#C586C0">for</span><span style="color:#D4D4D4"> (</span><span style="color:#569CD6">let</span><span style="color:#9CDCFE"> i</span><span style="color:#D4D4D4"> = </span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">; </span><span style="color:#9CDCFE">i</span><span style="color:#D4D4D4"> &#x3C; </span><span style="color:#9CDCFE">list</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">length</span><span style="color:#D4D4D4">; </span><span style="color:#9CDCFE">i</span><span style="color:#D4D4D4">++) {</span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">list</span><span style="color:#D4D4D4">[</span><span style="color:#9CDCFE">i</span><span style="color:#D4D4D4">]);</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// 0</span></span>
<span class="line"><span style="color:#6A9955">// 1</span></span>
<span class="line"><span style="color:#6A9955">// 2</span></span>
<span class="line"><span style="color:#6A9955">// 3</span></span></code></pre>

    </div><p>åœ¨è¿™æ®µç¨‹åºä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ for å¾ªç¯ï¼Œåœ¨æ¯æ¬¡è¿­ä»£ä¸­æ‰“å° <code>list[i]</code> çš„å€¼ã€‚</p>
<p>å‡è®¾ç°åœ¨æˆ‘ä»¬ä¸æƒ³æ‰“å°å…¨éƒ¨æ•°å­—äº†ï¼Œè€Œæ˜¯æ‰“å°åˆ° 1 å°±ä¸å†æ‰“äº†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ break å…³é”®å­—æ¥å®ç°ã€‚</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> list</span><span style="color:#D4D4D4"> = [</span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">, </span><span style="color:#B5CEA8">1</span><span style="color:#D4D4D4">, </span><span style="color:#B5CEA8">2</span><span style="color:#D4D4D4">, </span><span style="color:#B5CEA8">3</span><span style="color:#D4D4D4">];</span></span>
<span class="line"><span style="color:#C586C0">for</span><span style="color:#D4D4D4"> (</span><span style="color:#569CD6">let</span><span style="color:#9CDCFE"> i</span><span style="color:#D4D4D4"> = </span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">; </span><span style="color:#9CDCFE">i</span><span style="color:#D4D4D4"> &#x3C; </span><span style="color:#9CDCFE">list</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">length</span><span style="color:#D4D4D4">; </span><span style="color:#9CDCFE">i</span><span style="color:#D4D4D4">++) {</span></span>
<span class="line"><span style="color:#C586C0">  if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">list</span><span style="color:#D4D4D4">[</span><span style="color:#9CDCFE">i</span><span style="color:#D4D4D4">] === </span><span style="color:#B5CEA8">2</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#C586C0">    break</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">list</span><span style="color:#D4D4D4">[</span><span style="color:#9CDCFE">i</span><span style="color:#D4D4D4">]);</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// 0</span></span>
<span class="line"><span style="color:#6A9955">// 1</span></span></code></pre>

    </div><p>break è¯­å¥çš„ç”¨æ³•å¦‚ä¸‹ï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">list</span><span style="color:#D4D4D4">[</span><span style="color:#9CDCFE">i</span><span style="color:#D4D4D4">] === </span><span style="color:#B5CEA8">2</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#C586C0">	break</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span></code></pre>

    </div><p>è¿™æ®µç¨‹åºçš„æ„æ€æ˜¯ï¼Œå½“ <code>list[i]</code> çš„å€¼ç­‰äº 2 æ—¶ï¼Œbreak è¯­å¥å°±ç»“æŸå¾ªç¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>break è¯­å¥ä¹‹åçš„ç¨‹åºä¸ä¼šå†è¿è¡Œï¼Œå¹¶ä¸”ä¹‹åçš„è¿­ä»£ä¹Ÿä¸ä¼šå†è¿›è¡Œ</strong>ã€‚å› æ­¤ï¼Œæœ€ååªæ‰“å°å‡ºäº† 0 å’Œ 1ï¼Œè€Œå¤§äºæˆ–ç­‰äº 2 çš„å€¼åˆ™æ²¡æœ‰æ‰“å°å‡ºæ¥ã€‚</p>
<h2>break with for...of loop</h2>
<p>break ä¹Ÿå¯ä»¥åœ¨ for...of å¾ªç¯ä¸­ä½¿ç”¨ï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> list</span><span style="color:#D4D4D4"> = [</span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">, </span><span style="color:#B5CEA8">1</span><span style="color:#D4D4D4">, </span><span style="color:#B5CEA8">2</span><span style="color:#D4D4D4">, </span><span style="color:#B5CEA8">3</span><span style="color:#D4D4D4">];</span></span>
<span class="line"><span style="color:#C586C0">for</span><span style="color:#D4D4D4"> (</span><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> item</span><span style="color:#569CD6"> of</span><span style="color:#9CDCFE"> list</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#C586C0">  if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">item</span><span style="color:#D4D4D4"> === </span><span style="color:#B5CEA8">2</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#C586C0">    break</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">item</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// 0</span></span>
<span class="line"><span style="color:#6A9955">// 1</span></span></code></pre>

    </div><h2>break with map method of Array</h2>
<p>é¡ºä¾¿æä¸€å¥ï¼Œæ•°ç»„çš„ map æ–¹æ³•æ— æ³•æå‰è·³å‡ºå¾ªç¯ï¼</p>
</article><article id="2024-09-09T0820"><header class="flex gap-4 items-center"><time datetime="">2024-09-09</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-09T0820">ç«‹å³æ‰§è¡Œçš„åŒ¿å async å‡½æ•°</a></h1>
    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#D4D4D4">(</span><span style="color:#569CD6">async</span><span style="color:#D4D4D4"> () </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#6A9955">  // ...</span></span>
<span class="line"><span style="color:#D4D4D4">})();</span></span></code></pre>

    </div></article><article id="2024-09-09T0830"><header class="flex gap-4 items-center"><time datetime="">2024-09-09</time><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-09T0830">js rss parser</a></h1><p>To parse RSS, you can use <a href="https://github.com/rbren/rss-parser" target="_blank">rbren/rss-parser</a> (works both in Node and the browser ).</p>
<p>This is a small library for turning RSS XML feeds into JavaScript objects.</p>
<p>You can parse RSS from a URL (<code>parser.parseURL</code>) or an XML string (<code>parser.parseString</code>).</p>
<h2>ç¤ºä¾‹</h2>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#9CDCFE"> Parser</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "rss-parser"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> getFeed</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">websites</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> result</span><span style="color:#D4D4D4"> = [];</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> parser</span><span style="color:#D4D4D4"> = </span><span style="color:#569CD6">new</span><span style="color:#DCDCAA"> Parser</span><span style="color:#D4D4D4">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  for</span><span style="color:#D4D4D4"> (</span><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> website</span><span style="color:#569CD6"> of</span><span style="color:#9CDCFE"> websites</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#569CD6">    const</span><span style="color:#4FC1FF"> feed</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> parser</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">parseURL</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">website</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">    for</span><span style="color:#D4D4D4"> (</span><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> item</span><span style="color:#569CD6"> of</span><span style="color:#9CDCFE"> feed</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">items</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#9CDCFE">      result</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">push</span><span style="color:#D4D4D4">({</span></span>
<span class="line"><span style="color:#9CDCFE">        title:</span><span style="color:#9CDCFE"> item</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">title</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">        link:</span><span style="color:#9CDCFE"> item</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">link</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">        pubDate:</span><span style="color:#569CD6"> new</span><span style="color:#DCDCAA"> Date</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">item</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">pubDate</span><span style="color:#D4D4D4">).</span><span style="color:#DCDCAA">toISOString</span><span style="color:#D4D4D4">(),</span></span>
<span class="line"><span style="color:#9CDCFE">        from:</span><span style="color:#9CDCFE"> feed</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">link</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#D4D4D4">      });</span></span>
<span class="line"><span style="color:#D4D4D4">    }</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#9CDCFE"> result</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> websites</span><span style="color:#D4D4D4"> = [</span></span>
<span class="line"><span style="color:#CE9178">  "https://nicolas-hoizey.com/feeds/links.xml"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#CE9178">  "https://www.alexmolas.com/feed.xml"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#CE9178">  "https://www.joshwcomeau.com/rss.xml"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#D4D4D4">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA">getFeed</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">websites</span><span style="color:#D4D4D4">);</span></span></code></pre>

    </div><p>Examples for <code>const feed = await parser.parseURL(website);</code>:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> feed01</span><span style="color:#D4D4D4"> = {</span></span>
<span class="line"><span style="color:#9CDCFE">  link:</span><span style="color:#CE9178"> "https://nicolas-hoizey.com/feeds/links.xml"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  feedUrl:</span><span style="color:#CE9178"> "https://nicolas-hoizey.com/feeds/links.xml"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  title:</span><span style="color:#CE9178"> "Nicolas Hoizey - Links"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  lastBuildDate:</span><span style="color:#CE9178"> "2024-09-09T08:45:45Z"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  items:</span><span style="color:#D4D4D4"> [</span></span>
<span class="line"><span style="color:#D4D4D4">    {</span></span>
<span class="line"><span style="color:#9CDCFE">      title:</span><span style="color:#CE9178"> "An even faster Microsoft Edge"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">      link:</span><span style="color:#CE9178"> ""</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">      pubDate:</span><span style="color:#CE9178"> "2024-05-29T08:38:56.000Z"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">      content:</span><span style="color:#CE9178"> ""</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">      contentSnippet:</span><span style="color:#CE9178"> ""</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">      id:</span><span style="color:#CE9178"> "https://nicolas-hoizey.com/links/2024/05/29/an-even-faster-microsoft-edge/"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">      isoDate:</span><span style="color:#CE9178"> "2024-05-29T08:38:56.000Z"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#D4D4D4">    },</span></span>
<span class="line"><span style="color:#D4D4D4">  ],</span></span>
<span class="line"><span style="color:#D4D4D4">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> feed02</span><span style="color:#D4D4D4"> = {</span></span>
<span class="line"><span style="color:#9CDCFE">  link:</span><span style="color:#CE9178"> "https://alexmolas.com/"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  feedUrl:</span><span style="color:#CE9178"> "https://alexmolas.com/feed.xml"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  title:</span><span style="color:#CE9178"> "Alex Molas Blog"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  lastBuildDate:</span><span style="color:#CE9178"> "2024-09-09T06:02:29+00:00"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  items:</span><span style="color:#D4D4D4"> [</span></span>
<span class="line"><span style="color:#D4D4D4">    {</span></span>
<span class="line"><span style="color:#9CDCFE">      title:</span><span style="color:#CE9178"> "Dynamic Programming (i): Multiplying Matrices"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">      link:</span><span style="color:#CE9178"> "https://alexmolas.com/2020/12/31/dynamic-programming-i.html"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">      pubDate:</span><span style="color:#CE9178"> "2020-12-31T00:00:00.000Z"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">      author:</span><span style="color:#CE9178"> ""</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">      summary:</span><span style="color:#CE9178"> ""</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">      id:</span><span style="color:#CE9178"> "https://alexmolas.com/2020/12/31/dynamic-programming-i"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">      isoDate:</span><span style="color:#CE9178"> "2020-12-31T00:00:00.000Z"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#D4D4D4">    },</span></span>
<span class="line"><span style="color:#D4D4D4">  ],</span></span>
<span class="line"><span style="color:#D4D4D4">};</span></span></code></pre>

    </div></article><article id="2024-09-08T0800"><header class="flex gap-4 items-center"><time datetime="">2024-09-08</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-08T0800">JavaScript - async/await in loop</a></h1><h2>map()</h2>
<p>æˆ‘çš„é—®é¢˜æ¥æºäºï¼šæˆ‘æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œéœ€è¦å®Œæˆ map æ“ä½œï¼Œé‚£ä¹ˆæƒ³å½“ç„¶ç”¨çš„å°±æ˜¯ <code>map()</code> æ–¹æ³•ï¼Œä½†ä»£ç å†™ç€å†™ç€æˆ‘å‘ç°åœ¨ä¸€ä¸ªå¾ªç¯é‡Œé¢ï¼Œæˆ‘éœ€è¦æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œè¿™æ—¶é—®é¢˜å°±å‡ºç°äº† -- å› ä¸º <code>map()</code> æ–¹æ³•çš„å›è°ƒé‡Œé¢æ‰§è¡Œå¼‚æ­¥æ“ä½œæ˜¯ä¼šå‡ºé—®é¢˜çš„ã€‚äºæ˜¯ï¼Œæˆ‘è½¬è€Œä½¿ç”¨ä¼ ç»Ÿçš„ for loop æ¥å®Œæˆ map æ“ä½œã€‚</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> urls</span><span style="color:#D4D4D4"> = [</span><span style="color:#CE9178">"..."</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"..."</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"..."</span><span style="color:#D4D4D4">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> takeScreenshot</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#569CD6"> new</span><span style="color:#4EC9B0"> Promise</span><span style="color:#D4D4D4">((</span><span style="color:#9CDCFE">resolve</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#6A9955">    // take screenshot for url ...</span></span>
<span class="line"><span style="color:#569CD6">    const</span><span style="color:#4FC1FF"> screenshotUrl</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"..."</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#DCDCAA">    resolve</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">screenshotUrl</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">  });</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> get</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#9CDCFE"> urls</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">map</span><span style="color:#D4D4D4">(</span><span style="color:#569CD6">async</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#569CD6">    const</span><span style="color:#4FC1FF"> screenshotUrl</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> takeScreenshot</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#C586C0">    return</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">screenshotUrl</span><span style="color:#D4D4D4"> };</span></span>
<span class="line"><span style="color:#D4D4D4">  });</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA">get</span><span style="color:#D4D4D4">().</span><span style="color:#DCDCAA">then</span><span style="color:#D4D4D4">((</span><span style="color:#9CDCFE">result</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#9CDCFE"> console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">result</span><span style="color:#D4D4D4">));</span></span>
<span class="line"><span style="color:#6A9955">// >> [ Promise { &#x3C;pending> }, Promise { &#x3C;pending> }, Promise { &#x3C;pending> } ]</span></span></code></pre>

    </div><h2>for loop</h2>
<p>ä¸ç”¨ <code>map()</code>ï¼Œç”¨ä¼ ç»Ÿçš„ for loop æ˜¯æ²¡é—®é¢˜çš„ã€‚</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> urls</span><span style="color:#D4D4D4"> = [</span><span style="color:#CE9178">"..."</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"..."</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"..."</span><span style="color:#D4D4D4">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> takeScreenshot</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#569CD6"> new</span><span style="color:#4EC9B0"> Promise</span><span style="color:#D4D4D4">((</span><span style="color:#9CDCFE">resolve</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#6A9955">    // take screenshot for url ...</span></span>
<span class="line"><span style="color:#569CD6">    const</span><span style="color:#4FC1FF"> screenshotUrl</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"..."</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#DCDCAA">    resolve</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">screenshotUrl</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">  });</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> get</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> result</span><span style="color:#D4D4D4"> = [];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  for</span><span style="color:#D4D4D4"> (</span><span style="color:#569CD6">let</span><span style="color:#9CDCFE"> index</span><span style="color:#D4D4D4"> = </span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">; </span><span style="color:#9CDCFE">index</span><span style="color:#D4D4D4"> &#x3C; </span><span style="color:#9CDCFE">urls</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">length</span><span style="color:#D4D4D4">; </span><span style="color:#9CDCFE">index</span><span style="color:#D4D4D4">++) {</span></span>
<span class="line"><span style="color:#569CD6">    const</span><span style="color:#4FC1FF"> url</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">urls</span><span style="color:#D4D4D4">[</span><span style="color:#9CDCFE">index</span><span style="color:#D4D4D4">];</span></span>
<span class="line"><span style="color:#569CD6">    const</span><span style="color:#4FC1FF"> screenshotUrl</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> takeScreenshot</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE">    result</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">push</span><span style="color:#D4D4D4">({ </span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">screenshotUrl</span><span style="color:#D4D4D4"> });</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#9CDCFE"> result</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA">get</span><span style="color:#D4D4D4">().</span><span style="color:#DCDCAA">then</span><span style="color:#D4D4D4">((</span><span style="color:#9CDCFE">result</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#9CDCFE"> console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">result</span><span style="color:#D4D4D4">));</span></span>
<span class="line"><span style="color:#6A9955">// >></span></span>
<span class="line"><span style="color:#6A9955">/*</span></span>
<span class="line"><span style="color:#6A9955">[</span></span>
<span class="line"><span style="color:#6A9955">  { url: '...', screenshotUrl: '...' },</span></span>
<span class="line"><span style="color:#6A9955">  { url: '...', screenshotUrl: '...' },</span></span>
<span class="line"><span style="color:#6A9955">  { url: '...', screenshotUrl: '...' }</span></span>
<span class="line"><span style="color:#6A9955">]</span></span>
<span class="line"><span style="color:#6A9955">*/</span></span></code></pre>

    </div><h2>for...of loop</h2>
<p>ä½ ä¹Ÿå¯ä»¥ç”¨ <code>for...of</code> loopï¼Œå¦‚æœä½ åœ¨å¾ªç¯ä¸­ä¸éœ€è¦ç”¨åˆ°ç´¢å¼•çš„è¯ã€‚</p>

    <div class="code-block__wrapper language-ts">
      <div class="code-block__header">
        <span class="lang">ts</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-ts"><span class="line"><span style="color:#6A9955">// ...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> get</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> result</span><span style="color:#D4D4D4"> = [];</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#C586C0">  for</span><span style="color:#D4D4D4"> (</span><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> url</span><span style="color:#569CD6"> of</span><span style="color:#9CDCFE"> urls</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#569CD6">    const</span><span style="color:#4FC1FF"> screenshotUrl</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> takeScreenshot</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE">    result</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">push</span><span style="color:#D4D4D4">({ </span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">screenshotUrl</span><span style="color:#D4D4D4"> });</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#9CDCFE"> result</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// ...</span></span></code></pre>

    </div><h2>å‚è€ƒèµ„æ–™</h2>
<p><a href="https://zellwk.com/blog/async-await-in-loops/" target="_blank">JavaScript async and await in loops | Zell Liew</a></p>
</article><article id="2024-09-08T0810"><header class="flex gap-4 items-center"><time datetime="">2024-09-08</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-08T0810">ç”¨æ­£åˆ™è¡¨è¾¾å¼æå– markdown æ ¼å¼çš„æ–‡æœ¬é‡Œçš„æ ‡é¢˜å’Œç½‘å€</a></h1><p>â†“â†“
ChatGPT:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#6A9955">// è¾“å…¥å­—ç¬¦ä¸²</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> text</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"[Okalpha](https://www.okalpha.co/) #company_site #portfolio"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æå–æ ‡é¢˜å’Œç½‘å€</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> regex</span><span style="color:#D4D4D4"> =</span><span style="color:#D16969"> /</span><span style="color:#D7BA7D">\[</span><span style="color:#CE9178">(</span><span style="color:#D16969">.</span><span style="color:#D7BA7D">*?</span><span style="color:#CE9178">)</span><span style="color:#D7BA7D">\]\(</span><span style="color:#CE9178">(</span><span style="color:#D16969">.</span><span style="color:#D7BA7D">*?</span><span style="color:#CE9178">)</span><span style="color:#D7BA7D">\)</span><span style="color:#D16969">/</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> match</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">text</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">match</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">regex</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">match</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> title</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">match</span><span style="color:#D4D4D4">[</span><span style="color:#B5CEA8">1</span><span style="color:#D4D4D4">];</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> url</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">match</span><span style="color:#D4D4D4">[</span><span style="color:#B5CEA8">2</span><span style="color:#D4D4D4">];</span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">`Title: </span><span style="color:#569CD6">${</span><span style="color:#9CDCFE">title</span><span style="color:#569CD6">}</span><span style="color:#CE9178">`</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">`URL: </span><span style="color:#569CD6">${</span><span style="color:#9CDCFE">url</span><span style="color:#569CD6">}</span><span style="color:#CE9178">`</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">} </span><span style="color:#C586C0">else</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"No match found"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div></article><article id="2024-09-08T0820"><header class="flex gap-4 items-center"><time datetime="">2024-09-08</time><span>#typescript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-08T0820">Getting the return type of resolved promise</a></h1><p><a href="https://stackoverflow.com/questions/57267067/getting-the-return-type-of-resolved-promise" target="_blank">typescript - Getting the return type of resolved promise? - Stack Overflow</a></p>
<p>You can use new <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-5.html#the-awaited-type-and-promise-improvements" target="_blank">Awaited</a> type.</p>

    <div class="code-block__wrapper language-ts">
      <div class="code-block__header">
        <span class="lang">ts</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-ts"><span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> foo</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#6A9955">  // ...</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">let</span><span style="color:#9CDCFE"> bar</span><span style="color:#D4D4D4">: </span><span style="color:#4EC9B0">Awaited</span><span style="color:#D4D4D4">&#x3C;</span><span style="color:#4EC9B0">ReturnType</span><span style="color:#D4D4D4">&#x3C;</span><span style="color:#569CD6">typeof</span><span style="color:#9CDCFE"> foo</span><span style="color:#D4D4D4">>>;</span></span></code></pre>

    </div></article><article id="2024-09-08T0830"><header class="flex gap-4 items-center"><time datetime="">2024-09-08</time><span>#typescript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-08T0830">TS - get the type of an arrayâ€™s elements</a></h1><p>â†“â†“
<a href="https://www.typescriptlang.org/docs/handbook/2/indexed-access-types.html" target="_blank">https://www.typescriptlang.org/docs/handbook/2/indexed-access-types.html</a></p>

    <div class="code-block__wrapper language-ts">
      <div class="code-block__header">
        <span class="lang">ts</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-ts"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> MyArray</span><span style="color:#D4D4D4"> = [</span></span>
<span class="line"><span style="color:#D4D4D4">  { </span><span style="color:#9CDCFE">name:</span><span style="color:#CE9178"> "Alice"</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">age:</span><span style="color:#B5CEA8"> 15</span><span style="color:#D4D4D4"> },</span></span>
<span class="line"><span style="color:#D4D4D4">  { </span><span style="color:#9CDCFE">name:</span><span style="color:#CE9178"> "Bob"</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">age:</span><span style="color:#B5CEA8"> 23</span><span style="color:#D4D4D4"> },</span></span>
<span class="line"><span style="color:#D4D4D4">  { </span><span style="color:#9CDCFE">name:</span><span style="color:#CE9178"> "Eve"</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">age:</span><span style="color:#B5CEA8"> 38</span><span style="color:#D4D4D4"> },</span></span>
<span class="line"><span style="color:#D4D4D4">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">type</span><span style="color:#4EC9B0"> Person</span><span style="color:#D4D4D4"> = (</span><span style="color:#569CD6">typeof</span><span style="color:#9CDCFE"> MyArray</span><span style="color:#D4D4D4">)[</span><span style="color:#4EC9B0">number</span><span style="color:#D4D4D4">];</span></span>
<span class="line"><span style="color:#6A9955">/*</span></span>
<span class="line"><span style="color:#6A9955">type Person = {</span></span>
<span class="line"><span style="color:#6A9955">    name: string;</span></span>
<span class="line"><span style="color:#6A9955">    age: number;</span></span>
<span class="line"><span style="color:#6A9955">}</span></span>
<span class="line"><span style="color:#6A9955">*/</span></span></code></pre>

    </div></article><article id="2024-09-05T0800"><header class="flex gap-4 items-center"><time datetime="">2024-09-05</time><span>#vscode</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-05T0800">VSCode Extension for `console.log()`</a></h1><h2>Console Ninja</h2>
<p>console-ninja æ˜¯è®©ä½ èƒ½ç›´æ¥åœ¨ä»£ç ç«¯çœ‹åˆ° Log Messageï¼Œä¸ç”¨è·‘åˆ°æµè§ˆå™¨æ§åˆ¶å°ã€‚</p>
<p>å®˜ç½‘ - <a href="https://console-ninja.com/" target="_blank">https://console-ninja.com/</a></p>
<p>æ•™ç¨‹ï¼š
<a href="https://www.youtube.com/watch?v=OC-_fcJyz_c" target="_blank">https://www.youtube.com/watch?v=OC-_fcJyz_c</a>
Console Ninja VSCode Extension - YouTube</p>
<h2>Turbo Console Log</h2>
<p>turbo-console-log æ˜¯åªè¦ä½ æŒ‰ä¸‹å¿«æ·é”®ï¼Œå°±ä¼šå¸®ä½  generate å¥½ <code>console.log()</code>ã€‚</p>
<p>â†“â†“
å®˜ç½‘ - <a href="https://www.turboconsolelog.io/" target="_blank">https://www.turboconsolelog.io/</a></p>
</article><article id="2024-09-05T0810"><header class="flex gap-4 items-center"><time datetime="">2024-09-05</time><span>#vscode</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-05T0810">VSCode Keyboard Shortcuts for Coding Productivity</a></h1><h2>rename symbol</h2>
<p>F2 é”®ã€‚</p>
<p>è¿™ä¸ªä¼šæ¯” search all and replace æ›´å¿«ã€æ›´æ–¹ä¾¿ã€‚</p>
<h2>å‚è€ƒ</h2>
<p><a href="https://www.youtube.com/watch?v=A9Zi3BD_76w" target="_blank">https://www.youtube.com/watch?v=A9Zi3BD_76w</a>
15 VSCode Keyboard Shortcuts to Speed Up Your Code - YouTube</p>
<p><a href="https://chrispennington.blog/blog/vs-code-keyboard-shortcuts-for-coding-productivity/" target="_blank">https://chrispennington.blog/blog/vs-code-keyboard-shortcuts-for-coding-productivity/</a>
VS Code Keyboard Shortcuts for Coding Productivity</p>
</article><article id="2024-09-05T0820"><header class="flex gap-4 items-center"><time datetime="">2024-09-05</time><span>#input</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-05T0820">`min-content` `max-content` `fit-content` / C3 / color / lazygit</a></h1><h2>CSS sizing tools</h2>
<p><a href="https://www.youtube.com/watch?v=1NFfKZO2taU&amp;list=WL&amp;index=9" target="_blank">https://www.youtube.com/watch?v=1NFfKZO2taU&amp;list=WL&amp;index=9</a>
3 little-known CSS sizing tools - YouTube</p>
<p>1ï¼‰
deafult
It takes up the full width.</p>
<p><code>min-content</code>
So you can see that the <code>Heading</code> is the longest word, so that's as small as this <code>Heading</code> can get.</p>
<p><code>max-content</code>
It only takes up the width it need.</p>
<p><code>fit-content</code>
If ..., it only takes up the width it need.
If ..., it takes up the full width.</p>
<p>2ï¼‰
å¦‚æœæ˜¯ä¸€ä¸ª container elementï¼Œé‡Œé¢æœ‰å¾ˆå¤šå…ƒç´ ï¼Œé‚£ä¹ˆï¼š</p>
<p><code>min-content</code>
The container element takes up the width of the longest word from child element.</p>
<h2>CSS methodology -- C3</h2>
<p><a href="https://smth.uk/my-css-methodology/" target="_blank">https://smth.uk/my-css-methodology/</a>
My CSS methodology by Sam Smith</p>
<p>æˆ‘å¥½åƒæœ‰ç‚¹ get åˆ°ä»–çš„ç‚¹ï¼šå°±æ˜¯ HTML is just for contentï¼Œä¸è¦åœ¨ HTML é‡Œå¼•å…¥ appearance ç›¸å…³çš„ä¸œè¥¿ã€‚</p>
<p>å…³äº -- ä¸è¦åœ¨ HTML é‡Œå¼•å…¥ appearance ç›¸å…³çš„ä¸œè¥¿ï¼Œä¸€ä¸ªåé¢æ¡ˆä¾‹æ˜¯ï¼š</p>

    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="lang">html</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">a</span><span style="color:#9CDCFE"> class</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"button button--green button--large"</span><span style="color:#808080">>&#x3C;/</span><span style="color:#569CD6">a</span><span style="color:#808080">></span></span></code></pre>

    </div><p>attributes are used for things like state, role, ...</p>
<p>â†“â†“
<a href="https://c3css.com/" target="_blank">https://c3css.com/</a></p>
<h2>use realtimecolors to pick colors for your next project</h2>
<p><a href="https://www.youtube.com/watch?v=9sBV4fMIrko" target="_blank">https://www.youtube.com/watch?v=9sBV4fMIrko</a>
BEST way to pick colors for your next project! - YouTube</p>
<p>â†“â†“
<a href="https://www.realtimecolors.com/" target="_blank">https://www.realtimecolors.com/</a></p>
<h2>lazygit</h2>
<p><a href="https://www.youtube.com/watch?v=06lEP59XAgM" target="_blank">https://www.youtube.com/watch?v=06lEP59XAgM</a>
My new favorite way to use git - YouTube</p>
<p>â†“â†“
<a href="https://github.com/jesseduffield/lazygit" target="_blank">https://github.com/jesseduffield/lazygit</a></p>
<p>å®‰è£… / Winget (Windows 10 1709 or later)</p>
<p>You can install <code>lazygit</code> using the <code>winget</code> command in the Windows Terminal with the following command:</p>

    <div class="code-block__wrapper language-powershell">
      <div class="code-block__header">
        <span class="lang">powershell</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-txt"><span class="line"><span>winget install -e --id=JesseDuffield.lazygit</span></span></code></pre>

    </div><p>ç”¨æ³•ï¼š</p>
<p>Call <code>lazygit</code> in your terminal inside a git repository.</p>

    <div class="code-block__wrapper language-shell">
      <div class="code-block__header">
        <span class="lang">shell</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-shell"><span class="line"><span style="color:#DCDCAA">$</span><span style="color:#CE9178"> lazygit</span></span></code></pre>

    </div><p>If you want, you can also add an alias for this with <code>echo &quot;alias lg='lazygit'&quot; &gt;&gt; ~/.zshrc</code> (or whichever rc file you're using).</p>
</article><article id="2024-09-04T0800"><header class="flex gap-4 items-center"><time datetime="">2024-09-04</time><span>#input</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-04T0800">Creating Signal with Vanilla JavaScript using Proxy and Custom Event</a></h1><p><a href="https://gomakethings.com/creating-a-vanilla-javascript-signal-with-proxies/" target="_blank">https://gomakethings.com/creating-a-vanilla-javascript-signal-with-proxies/</a></p>
<p>å…ˆä¸è€ƒè™‘ç»†èŠ‚ï¼Œæˆ‘è§‰å¾— Signal è¿™ä¸ª pattern å¾ˆæ˜¯ç†Ÿæ‚‰å•Šï¼Œæˆ‘ä¹‹å‰è‡ªå·±å¥½åƒåšè¿‡ç±»ä¼¼çš„ï¼Œç”¨åˆ°äº† Custom Eventï¼Œä½†æ²¡æœ‰ç”¨ä¸Š Proxyã€‚</p>
</article><article id="2024-09-03T0800"><header class="flex gap-4 items-center"><time datetime="">2024-09-03</time><span>#typescript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-03T0800">Working with object having dynamic keys in TypeScript</a></h1><p>æˆ‘æœ‰ä¸€ä¸ªå‡½æ•° <code>fn</code>ï¼Œä¼šä¼ å…¥ä¸€ä¸ªç”±å¯¹è±¡ç»„æˆçš„æ•°ç»„ <code>list</code>ï¼Œåœ¨å£°æ˜å‡½æ•°æ—¶æˆ‘å¯ä»¥ç¡®å®šçš„æ˜¯æ¯ä¸ªå¯¹è±¡å„ä¸ªé”®çš„å€¼çš„ç±»å‹éƒ½æ˜¯ <code>string</code>ï¼Œä½†æˆ‘è¿˜æ— æ³•ç¡®å®šå„ä¸ªé”®å…·ä½“æ˜¯ä»€ä¹ˆé”®ã€‚</p>

    <div class="code-block__wrapper language-ts">
      <div class="code-block__header">
        <span class="lang">ts</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-ts"><span class="line"><span style="color:#569CD6">function</span><span style="color:#DCDCAA"> fn</span><span style="color:#D4D4D4">&#x3C;</span><span style="color:#4EC9B0">T</span><span style="color:#D4D4D4">>(</span><span style="color:#9CDCFE">list</span><span style="color:#D4D4D4">: </span><span style="color:#4EC9B0">T</span><span style="color:#D4D4D4">[]) {</span></span>
<span class="line"><span style="color:#6A9955">  // ...</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘çŸ¥é“ä¼ å…¥çš„æ˜¯ a list of objectï¼Œä½†ä¸çŸ¥é“åˆ°åº•æ˜¯ a list of usersï¼Œè¿˜æ˜¯ a list of blogsï¼Œè¿˜æ˜¯ a list of tasksã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºä¼ å…¥çš„ a list of objectï¼Œè¿™é‡Œçš„ object å¯èƒ½æ˜¯ userï¼Œä¹Ÿå¯èƒ½æ˜¯ blogï¼Œä¹Ÿå¯èƒ½æ˜¯ task ç­‰ç­‰ã€‚<strong>ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™é‡Œçš„ object æ˜¯ dynamic objectï¼Œæ¢å¥è¯è¯´ï¼Œæ˜¯ object with dynamic keysã€‚</strong></p>
<p>è€Œå¯¹äº object with dynamic keys, TypeScript æä¾›ä¸¤ç§ç±»å‹æ‰¹æ³¨çš„æ–¹å¼ï¼š</p>
<ul>
<li>ä¸€æ˜¯ï¼Œindex signaturesã€‚</li>
<li>äºŒæ˜¯ï¼Œ<code>Record</code> typeã€‚</li>
</ul>
<h2>æ–¹æ¡ˆä¸€ï¼šIndex Signature</h2>
<p>ä½ å¯ä»¥ä½¿ç”¨ index signature æ¥æŒ‡å®šä¸€ä¸ªå¯¹è±¡å¯ä»¥æ‹¥æœ‰ä»»æ„æ•°é‡ç‰¹å®šç±»å‹çš„å±æ€§ã€‚</p>

    <div class="code-block__wrapper language-ts">
      <div class="code-block__header">
        <span class="lang">ts</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-ts"><span class="line"><span style="color:#569CD6">interface</span><span style="color:#4EC9B0"> ListItem</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#D4D4D4">  [</span><span style="color:#9CDCFE">key</span><span style="color:#D4D4D4">: </span><span style="color:#4EC9B0">string</span><span style="color:#D4D4D4">]: </span><span style="color:#4EC9B0">string</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">function</span><span style="color:#DCDCAA"> fn</span><span style="color:#D4D4D4">&#x3C;</span><span style="color:#4EC9B0">T</span><span style="color:#569CD6"> extends</span><span style="color:#4EC9B0"> ListItem</span><span style="color:#D4D4D4">>(</span><span style="color:#9CDCFE">list</span><span style="color:#D4D4D4">: </span><span style="color:#4EC9B0">T</span><span style="color:#D4D4D4">[]) {</span></span>
<span class="line"><span style="color:#6A9955">  // ...</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><h2>æ–¹æ¡ˆäºŒï¼š<code>Record</code> type</h2>
<p><code>Record</code> type æ˜¯ä¸€ä¸ªæ³›å‹ï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥åˆ›å»ºä¸€ä¸ªç”±ä½ æ¥æŒ‡å®š key type å’Œ value type çš„ object typeã€‚</p>

    <div class="code-block__wrapper language-ts">
      <div class="code-block__header">
        <span class="lang">ts</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-ts"><span class="line"><span style="color:#569CD6">function</span><span style="color:#DCDCAA"> fn</span><span style="color:#D4D4D4">&#x3C;</span><span style="color:#4EC9B0">T</span><span style="color:#569CD6"> extends</span><span style="color:#4EC9B0"> Record</span><span style="color:#D4D4D4">&#x3C;</span><span style="color:#4EC9B0">string</span><span style="color:#D4D4D4">, </span><span style="color:#4EC9B0">string</span><span style="color:#D4D4D4">>>(</span><span style="color:#9CDCFE">list</span><span style="color:#D4D4D4">: </span><span style="color:#4EC9B0">T</span><span style="color:#D4D4D4">[]) {</span></span>
<span class="line"><span style="color:#6A9955">  // ...</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><h2>å‚è€ƒ</h2>
<p><a href="https://www.basedash.com/blog/typescript-object-with-dynamic-keys" target="_blank">https://www.basedash.com/blog/typescript-object-with-dynamic-keys</a></p>
<p>TypeScript Object with Dynamic Keys | Basedash</p>
</article><article id="2024-09-03T0810"><header class="flex gap-4 items-center"><time datetime="">2024-09-03</time><span>#typescript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-03T0810">TS - ç»™ class åšç±»å‹æ‰¹æ³¨</a></h1>
    <div class="code-block__wrapper language-ts">
      <div class="code-block__header">
        <span class="lang">ts</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-ts"><span class="line"><span style="color:#C586C0">export</span><span style="color:#C586C0"> default</span><span style="color:#569CD6"> class</span><span style="color:#4EC9B0"> YSearch</span><span style="color:#D4D4D4">&#x3C;</span><span style="color:#4EC9B0">T</span><span style="color:#569CD6"> extends</span><span style="color:#4EC9B0"> ListItem</span><span style="color:#D4D4D4">> {</span></span>
<span class="line"><span style="color:#9CDCFE">  list</span><span style="color:#D4D4D4">: </span><span style="color:#4EC9B0">T</span><span style="color:#D4D4D4">[];</span></span>
<span class="line"><span style="color:#9CDCFE">  options</span><span style="color:#D4D4D4">: </span><span style="color:#4EC9B0">SearchOptions</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">  constructor</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">list</span><span style="color:#D4D4D4">: </span><span style="color:#4EC9B0">T</span><span style="color:#D4D4D4">[], </span><span style="color:#9CDCFE">options</span><span style="color:#D4D4D4">: </span><span style="color:#4EC9B0">SearchOptions</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#569CD6">    this</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">list</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">list</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">    this</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">options</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">options</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p>æˆ–è€… (ä¸‹é¢è¿™ç§å°±ä¸éœ€è¦åšä¸¤éç±»å‹æ‰¹æ³¨)</p>

    <div class="code-block__wrapper language-ts">
      <div class="code-block__header">
        <span class="lang">ts</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-ts"><span class="line"><span style="color:#C586C0">export</span><span style="color:#C586C0"> default</span><span style="color:#569CD6"> class</span><span style="color:#4EC9B0"> YSearch</span><span style="color:#D4D4D4">&#x3C;</span><span style="color:#4EC9B0">T</span><span style="color:#569CD6"> extends</span><span style="color:#4EC9B0"> ListItem</span><span style="color:#D4D4D4">> {</span></span>
<span class="line"><span style="color:#569CD6">  constructor</span><span style="color:#D4D4D4">(</span></span>
<span class="line highlighted"><span style="color:#569CD6">    readonly</span><span style="color:#9CDCFE"> list</span><span style="color:#D4D4D4">: </span><span style="color:#4EC9B0">T</span><span style="color:#D4D4D4">[],</span></span>
<span class="line highlighted"><span style="color:#569CD6">    readonly</span><span style="color:#9CDCFE"> options</span><span style="color:#D4D4D4">: </span><span style="color:#4EC9B0">SearchOptions</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#D4D4D4">  ) {</span></span>
<span class="line"><span style="color:#569CD6">    this</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">list</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">list</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">    this</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">options</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">options</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div></article><article id="2024-09-03T0820"><header class="flex gap-4 items-center"><time datetime="">2024-09-03</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-03T0820">JS - `focusout` event</a></h1><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/focusout_event" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/Element/focusout_event</a></p>
<p>The <strong><code>focusout</code></strong> event fires when an <strong>element has lost focus</strong>, after the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/blur_event" title="blur" target="_blank"><code>blur</code></a> event.</p>
<p>The <strong><code>focusout</code></strong> event and the <code>blur</code> event differ in that <code>focusout</code> bubbles, while <code>blur</code> does not.</p>
<p>The opposite of <code>focusout</code> is the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/focusin_event" title="focusin" target="_blank"><code>focusin</code></a> event, which fires when the <strong>element has received focus</strong>.</p>
</article><article id="2024-09-03T0830"><header class="flex gap-4 items-center"><time datetime="">2024-09-03</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-09-03T0830">JS - html `hidden`</a></h1>
    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="lang">html</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">input</span><span style="color:#808080"> /></span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4">// input.hidden >> false // input.getAttribute("hidden") >> null</span></span></code></pre>

    </div><p>1ï¼‰</p>
<p>run:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#9CDCFE">input</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">hidden</span><span style="color:#D4D4D4"> = </span><span style="color:#569CD6">true</span><span style="color:#D4D4D4">;</span></span></code></pre>

    </div><p>result:</p>

    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="lang">html</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">input</span><span style="color:#9CDCFE"> hidden</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">""</span><span style="color:#808080"> /></span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4">// input.hidden >> true // input.getAttribute("hidden") >> ""</span></span></code></pre>

    </div><p>2ï¼‰ä» 1ï¼‰ç»§ç»­</p>
<p>run:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#9CDCFE">input</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">hidden</span><span style="color:#D4D4D4"> = </span><span style="color:#569CD6">false</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#6A9955">// input.removeAttribute("hidden");</span></span></code></pre>

    </div><p>result:</p>

    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="lang">html</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">input</span><span style="color:#808080"> /></span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4">// input.hidden >> false // input.getAttribute("hidden") >> null</span></span></code></pre>

    </div><p>â†“â†“
<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/hidden" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/hidden</a></p>
</article><article id="2024-07-30T0800"><header class="flex gap-4 items-center"><time datetime="">2024-07-30</time><span>#remix</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-30T0800">Remix - Render all routes from `app/routes/` dir</a></h1>
    <div class="code-block__wrapper language-tsx">
      <div class="code-block__header">
        <span class="code-block__filename">app/routes/_index.tsx</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-tsx"><span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">json</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "@remix-run/node"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">Link</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">useLoaderData</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> "@remix-run/react"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">import</span><span style="color:#9CDCFE"> fs</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "node:fs/promises"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#C586C0">import</span><span style="color:#9CDCFE"> path</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "node:path"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// get all routes from `app/routes/` dir except `app/routes/_index`</span></span>
<span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> getAllRoutes</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> dir</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">path</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">join</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">process</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">cwd</span><span style="color:#D4D4D4">(), </span><span style="color:#CE9178">"app"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"routes"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> files</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> fs</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">readdir</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">dir</span><span style="color:#D4D4D4">); </span><span style="color:#6A9955">// >> ["_index.tsx", ...]</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> routes</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">files</span></span>
<span class="line"><span style="color:#D4D4D4">    .</span><span style="color:#DCDCAA">map</span><span style="color:#D4D4D4">((</span><span style="color:#9CDCFE">file</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#9CDCFE"> file</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">slice</span><span style="color:#D4D4D4">(</span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">, -</span><span style="color:#B5CEA8">4</span><span style="color:#D4D4D4">)) </span><span style="color:#6A9955">// >> ["_index", ...]</span></span>
<span class="line"><span style="color:#D4D4D4">    .</span><span style="color:#DCDCAA">filter</span><span style="color:#D4D4D4">((</span><span style="color:#9CDCFE">route</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#9CDCFE"> route</span><span style="color:#D4D4D4"> !== </span><span style="color:#CE9178">"_index"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#9CDCFE"> routes</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">export</span><span style="color:#569CD6"> async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> loader</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> routes</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> getAllRoutes</span><span style="color:#D4D4D4">();</span></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#DCDCAA"> json</span><span style="color:#D4D4D4">({ </span><span style="color:#9CDCFE">routes</span><span style="color:#D4D4D4"> });</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">export</span><span style="color:#C586C0"> default</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> Index</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#D4D4D4"> { </span><span style="color:#4FC1FF">routes</span><span style="color:#D4D4D4"> } = </span><span style="color:#DCDCAA">useLoaderData</span><span style="color:#D4D4D4">&#x3C;</span><span style="color:#569CD6">typeof</span><span style="color:#9CDCFE"> loader</span><span style="color:#D4D4D4">>();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#D4D4D4"> (</span></span>
<span class="line"><span style="color:#808080">    &#x3C;</span><span style="color:#569CD6">nav</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">      &#x3C;</span><span style="color:#569CD6">ul</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#569CD6">        {</span><span style="color:#9CDCFE">routes</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">map</span><span style="color:#D4D4D4">((</span><span style="color:#9CDCFE">route</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> (</span></span>
<span class="line"><span style="color:#808080">          &#x3C;</span><span style="color:#569CD6">li</span><span style="color:#9CDCFE"> key</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">route</span><span style="color:#569CD6">}</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">            &#x3C;</span><span style="color:#4EC9B0">Link</span><span style="color:#9CDCFE"> to</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">route</span><span style="color:#569CD6">}</span><span style="color:#808080">></span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">route</span><span style="color:#569CD6">}</span><span style="color:#808080">&#x3C;/</span><span style="color:#4EC9B0">Link</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">          &#x3C;/</span><span style="color:#569CD6">li</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#D4D4D4">        ))</span><span style="color:#569CD6">}</span></span>
<span class="line"><span style="color:#808080">      &#x3C;/</span><span style="color:#569CD6">ul</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">    &#x3C;/</span><span style="color:#569CD6">nav</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#D4D4D4">  );</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div></article><article id="2024-07-30T0810"><header class="flex gap-4 items-center"><time datetime="">2024-07-30</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-30T0810">JavaScript - Join the base URL with a relative path</a></h1><h2>TLDR</h2>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">new</span><span style="color:#DCDCAA"> URL</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">baseURL</span><span style="color:#D4D4D4">).</span><span style="color:#9CDCFE">href</span><span style="color:#D4D4D4">;</span></span></code></pre>

    </div><h2>ç¤ºä¾‹ä¸€</h2>
<p>å‡è®¾ä½ æœ‰ä¸€ä¸ª base URL ä¸ºï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> baseURL</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"https://example.com/en/doc/"</span><span style="color:#D4D4D4">;</span></span></code></pre>

    </div><p>é‚£ä¹ˆï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">new</span><span style="color:#DCDCAA"> URL</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"/facicon.ico"</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">baseURL</span><span style="color:#D4D4D4">).</span><span style="color:#9CDCFE">href</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#6A9955">// >> "https://example.com/favicon.ico"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">new</span><span style="color:#DCDCAA"> URL</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"../facicon.ico"</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">baseURL</span><span style="color:#D4D4D4">).</span><span style="color:#9CDCFE">href</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#6A9955">// >> "https://example.com/en/facicon.ico"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">new</span><span style="color:#DCDCAA"> URL</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"../../facicon.ico"</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">baseURL</span><span style="color:#D4D4D4">).</span><span style="color:#9CDCFE">href</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#6A9955">// >> "https://example.com/favicon.ico"</span></span></code></pre>

    </div><h2>ç¤ºä¾‹äºŒ</h2>
<p>å‡è®¾ä½ æœ‰ä¸€ä¸ª base URL ä¸ºï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> baseURL</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"https://example.com/en/doc"</span><span style="color:#D4D4D4">;</span></span></code></pre>

    </div><p>é‚£ä¹ˆï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">new</span><span style="color:#DCDCAA"> URL</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"facicon.ico"</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">baseURL</span><span style="color:#D4D4D4">).</span><span style="color:#9CDCFE">href</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#6A9955">// >> "https://example.com/en/favicon.ico"</span></span></code></pre>

    </div><h2>Source</h2>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/URL/URL" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/URL/URL</a></p>
<p><a href="https://stackoverflow.com/questions/2676178/how-to-join-relative-urls-in-javascript" target="_blank">https://stackoverflow.com/questions/2676178/how-to-join-relative-urls-in-javascript</a></p>
</article><article id="2024-07-30T0820"><header class="flex gap-4 items-center"><time datetime="">2024-07-30</time><span>#css</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-30T0820">CSS &gt;&gt; Displaying a hidden element on hover</a></h1><p>æœ‰æ•ˆï¼š</p>

    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="lang">html</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">div</span><span style="color:#9CDCFE"> class</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"opacity-0 hover:opacity-100"</span><span style="color:#808080">></span><span style="color:#D4D4D4">...</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">div</span><span style="color:#808080">></span></span></code></pre>

    </div><p>æ— æ•ˆï¼š</p>

    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="lang">html</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">div</span><span style="color:#9CDCFE"> class</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"invisible hover:visible"</span><span style="color:#808080">></span><span style="color:#D4D4D4">...</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">div</span><span style="color:#808080">></span></span></code></pre>

    </div><h2>Source</h2>
<p><a href="https://stackoverflow.com/questions/60917112/displaying-button-when-hovering-over-div-in-tailwindcss" target="_blank">https://stackoverflow.com/questions/60917112/displaying-button-when-hovering-over-div-in-tailwindcss</a></p>
<ul>
<li>You cannot hover over a hidden element.</li>
<li>One solution is using opacity.</li>
</ul>
</article><article id="2024-07-29T0800"><header class="flex gap-4 items-center"><time datetime="">2024-07-29</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-29T0800">JavaScript - `prompt()`, `confirm()`, `alert()`</a></h1><h2><code>prompt()</code> - used to take user inputs</h2>
<p><code>prompt(message, defaultValue)</code></p>
<ul>
<li>å¦‚æœç”¨æˆ·ç‚¹å‡»ç¡®è®¤æŒ‰é’®ï¼Œåˆ™å‡½æ•°ä¼šè¿”å›ç”¨æˆ·åœ¨è¾“å…¥æ¡†é‡Œè¾“å…¥çš„æ–‡æœ¬ã€‚</li>
<li>å¦‚æœç”¨æˆ·åœ¨æ²¡æœ‰è¾“å…¥ä»»ä½•æ–‡æœ¬çš„æƒ…å†µä¸‹ç‚¹å‡»ç¡®è®¤æŒ‰é’®ï¼Œåˆ™å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚</li>
<li>å¦‚æœç”¨æˆ·ç‚¹å‡»å–æ¶ˆæŒ‰é’®ï¼Œåˆ™å‡½æ•°ä¼šè¿”å› <code>null</code>ã€‚</li>
</ul>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> result</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">prompt</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"How old are you?"</span><span style="color:#D4D4D4">);</span></span></code></pre>

    </div><p>source: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/prompt" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/Window/prompt</a></p>
<h2><code>confirm()</code> - used for confirmations</h2>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">if</span><span style="color:#D4D4D4"> (</span><span style="color:#DCDCAA">confirm</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"Are you sure to delete the item?"</span><span style="color:#D4D4D4">)) {</span></span>
<span class="line"><span style="color:#6A9955">  // YES</span></span>
<span class="line"><span style="color:#D4D4D4">} </span><span style="color:#C586C0">else</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#6A9955">  // NO</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p><code>confirm(message)</code></p>
<ul>
<li>å¦‚æœç”¨æˆ·ç‚¹å‡»ç¡®è®¤æŒ‰é’®ï¼Œåˆ™å‡½æ•°è¿”å› <code>true</code>ã€‚</li>
<li>å¦‚æœç”¨æˆ·ç‚¹å‡»å–æ¶ˆæŒ‰é’®ï¼Œåˆ™å‡½æ•°è¿”å› <code>false</code>ã€‚</li>
</ul>
<p>source: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/confirm" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/Window/confirm</a></p>
<h2><code>alert()</code> - used to display alerts</h2>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/alert" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/Window/alert</a></p>
</article><article id="2024-07-29T0810"><header class="flex gap-4 items-center"><time datetime="">2024-07-29</time><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-29T0810">Firefox - filter the console output</a></h1><p>1ã€ä½ å¯ä»¥ä½¿ç”¨<strong>æ­£åˆ™è¡¨è¾¾å¼</strong>æ¥å¯¹æ§åˆ¶å°çš„è¾“å‡ºåšç­›é€‰ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<ul>
<li><code>/(cool|bad)/</code></li>
<li><code>/(cool)/</code></li>
</ul>
<p>2ã€ä½ ä¹Ÿå¯ä»¥é€šè¿‡æ·»åŠ ä¸€ä¸ª <code>-</code> å‰ç¼€æ¥åè½¬ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œä»è€Œè®©æ§åˆ¶å°çš„è¾“å‡ºéšè—ä½ ä¸æƒ³è¦çš„ä¿¡æ¯ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<ul>
<li><code>-/(cool|bad)/</code></li>
<li><code>-/(content-script|hot updated)/</code></li>
</ul>
<h2>source</h2>
<p><a href="https://firefox-source-docs.mozilla.org/devtools-user/web_console/console_messages/index.html#filtering-with-regular-expressions" target="_blank">https://firefox-source-docs.mozilla.org/devtools-user/web_console/console_messages/index.html#filtering-with-regular-expressions</a></p>
</article><article id="2024-07-29T0820"><header class="flex gap-4 items-center"><time datetime="">2024-07-29</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-29T0820">JavaScript - scrap website metadata</a></h1><h2>æ–¹æ³•</h2>
<p>å€ŸåŠ© <a href="https://github.com/laurengarcia/url-metadata" target="_blank">https://github.com/laurengarcia/url-metadata</a></p>
<h2>å®‰è£…</h2>

    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">npm</span><span style="color:#CE9178"> install</span><span style="color:#CE9178"> url-metadata</span><span style="color:#569CD6"> --save</span></span></code></pre>

    </div><h2>ç”¨æ³•</h2>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#9CDCFE"> urlMetadata</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> 'url-metadata'</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> metadata</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> urlMetadata</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"https://flomoapp.co</span><span style="color:#F44747">m</span></span>
<span class="line"><span style="color:#CE9178">")</span><span style="color:#F44747">;</span></span></code></pre>

    </div><p>è¿”å›çš„ <code>metadata</code> å¯¹è±¡ä¼šå¸¦æœ‰ä»¥ä¸‹æ•°æ®ï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#D4D4D4">{</span></span>
<span class="line"><span style="color:#C8C8C8">	title</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">'flomo - Capture faster, review better'</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#C8C8C8">	favicons</span><span style="color:#D4D4D4">: [</span></span>
<span class="line"><span style="color:#D4D4D4">		{</span></span>
<span class="line"><span style="color:#9CDCFE">			rel:</span><span style="color:#CE9178"> 'icon'</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">			type:</span><span style="color:#569CD6"> undefined</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">			href:</span><span style="color:#CE9178"> '/images/logo-192x192.png'</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">			sizes:</span><span style="color:#CE9178"> '192x192'</span></span>
<span class="line"><span style="color:#D4D4D4">		}</span></span>
<span class="line"><span style="color:#D4D4D4">	],</span></span>
<span class="line"><span style="color:#6A9955">	// ...</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div></article><article id="2024-07-28T0800"><header class="flex gap-4 items-center"><time datetime="">2024-07-28</time><span>#css</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-28T0800">CSS - Find elements that are causing the overflow</a></h1><p><a href="https://stackoverflow.com/questions/31458477/find-element-that-is-causing-the-showing-of-horizontal-scrollbar-in-google-chrom" target="_blank">https://stackoverflow.com/questions/31458477/find-element-that-is-causing-the-showing-of-horizontal-scrollbar-in-google-chrom</a></p>

    <div class="code-block__wrapper language-css">
      <div class="code-block__header">
        <span class="lang">css</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-css"><span class="line"><span style="color:#569CD6">*</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  outline</span><span style="color:#D4D4D4">: </span><span style="color:#B5CEA8">1px</span><span style="color:#CE9178"> solid</span><span style="color:#CE9178"> #f00</span><span style="color:#569CD6"> !important</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div></article><article id="2024-07-28T0810"><header class="flex gap-4 items-center"><time datetime="">2024-07-28</time><span>#regex</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-28T0810">æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… hashtag (æ ‡ç­¾)</a></h1><h2>ç¤ºä¾‹ä¸€ - Extract all the hashtags in a string</h2>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> string</span><span style="color:#D4D4D4"> =</span></span>
<span class="line"><span style="color:#CE9178">  "#hello This is an #example ##of/NIHAO #NIAHO #so#me tex#t with #hash-tags - http://www.example.com/#anchor but dont want the link"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> tagPattern</span><span style="color:#D4D4D4"> =</span><span style="color:#D16969"> /</span><span style="color:#CE9178">(?&#x3C;=</span><span style="color:#D16969">\s</span><span style="color:#DCDCAA">|^</span><span style="color:#CE9178">)</span><span style="color:#D16969">#</span><span style="color:#CE9178">[^</span><span style="color:#D16969">#^\s</span><span style="color:#CE9178">]</span><span style="color:#D7BA7D">+</span><span style="color:#CE9178">(?=</span><span style="color:#D16969">\s</span><span style="color:#DCDCAA">|$</span><span style="color:#CE9178">)</span><span style="color:#D16969">/</span><span style="color:#569CD6">g</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> match</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">string</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">match</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">tagPattern</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE">console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">match</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#6A9955">// > ["#hello", "#example", "#NIAHO", "#hash-tags"]</span></span></code></pre>

    </div><p>è§£é‡Šä¸€ä¸‹ tagPattern è¿™ä¸ªæ­£åˆ™ï¼š</p>
<ul>
<li><code>(?&lt;=\s|^)</code> è¡¨ç¤ºåé¢é‚£ä¸ªåŒ¹é…åˆ°çš„å­—ç¬¦çš„å‰é¢è¦ä¹ˆæ˜¯æ•´ä¸ªæ–‡æœ¬çš„å¼€å¤´ã€è¦ä¹ˆæ˜¯ä¸€ä¸ªç©ºç™½å­—ç¬¦</li>
<li><code>#</code> åŒ¹é…äº•å·</li>
<li><code>[^#^\s]+</code> è¡¨ç¤ºåŒ¹é…éç©ºå­—ç¬¦ä¸”éäº•å·ï¼Œä¸€ä¸ªæˆ–å¤šä¸ª</li>
<li><code>(?=\s|$)</code> è¡¨ç¤ºå‰é¢é‚£ä¸ªåŒ¹é…åˆ°çš„å­—ç¬¦çš„ç´§è·Ÿç€è¦ä¹ˆæ˜¯ä¸€ä¸ªç©ºç™½å­—ç¬¦ã€è¦ä¹ˆæ˜¯æ•´ä¸ªæ–‡æœ¬çš„ç»“å°¾</li>
</ul>
<p>çŸ¥è¯†ç‚¹ï¼š</p>
<ul>
<li><code>[]</code> æ˜¯ä¸€ä¸ªåŒºé—´ï¼Œè¡¨ç¤ºå­—ç¬¦åœ¨è¿™ä¸ªåŒºé—´å†…å°±å¯ä»¥åŒ¹é…ä¸Š</li>
<li><code>^</code> æœ‰ä¸¤ç§æ„æ€ã€‚ä¸€æ˜¯å­—ç¬¦ä¸²æˆ–è¡Œçš„å¼€å¤´ã€‚äºŒæ˜¯åœ¨åŒºé—´é‡Œç±»ä¼¼äºéã€‚</li>
<li><code>|</code> ç±»ä¼¼äºæˆ–ã€‚å¯ä»¥æ˜¯å®ƒï¼Œä¹Ÿå¯ä»¥æ˜¯å®ƒã€‚</li>
</ul>
<p>æˆ‘å¯¹é›¶å®½æ–­è¨€çš„ç†è§£æ˜¯ï¼šå®ƒæ˜¯åœ¨ç•Œå®šåŒ¹é…åˆ°çš„å­—ç¬¦çš„è¾¹ç•Œã€‚</p>
<h2>ç¤ºä¾‹äºŒ - Check if the given string starts with a hashtag</h2>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> line</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"#css hahaha"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D16969">/</span><span style="color:#DCDCAA">^</span><span style="color:#D16969">#</span><span style="color:#CE9178">[^</span><span style="color:#D16969">#^\s</span><span style="color:#CE9178">]</span><span style="color:#D7BA7D">+</span><span style="color:#D16969">/</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">test</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">line</span><span style="color:#D4D4D4">) </span><span style="color:#6A9955">// >> true</span></span></code></pre>

    </div></article><article id="2024-07-28T0820"><header class="flex gap-4 items-center"><time datetime="">2024-07-28</time><span>#nodejs</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-28T0820">Nodejs - Check if file exists</a></h1><h2>ChatGPT</h2>
<p><strong>Using <code>fs.existsSync()</code> (Synchronous):</strong></p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> fs</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">require</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"fs"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> filePath</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"path/to/your/file.txt"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">fs</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">existsSync</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">filePath</span><span style="color:#D4D4D4">)) {</span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"File exists."</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">} </span><span style="color:#C586C0">else</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"File does not exist."</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p>Using <code>fs.promises.access()</code> (Asynchronous Callback):</p>
<p>Using <code>fs.promises.access()</code> (Asynchronous Promise):</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> fs</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">require</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"fs"</span><span style="color:#D4D4D4">).</span><span style="color:#9CDCFE">promises</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> filePath</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"path/to/your/file.txt"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> checkFileExists</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#C586C0">  try</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#C586C0">    await</span><span style="color:#9CDCFE"> fs</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">access</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">filePath</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">fs</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">constants</span><span style="color:#D4D4D4">.</span><span style="color:#4FC1FF">F_OK</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#9CDCFE">    console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"File exists."</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">  } </span><span style="color:#C586C0">catch</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">err</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#9CDCFE">    console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"File does not exist."</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA">checkFileExists</span><span style="color:#D4D4D4">();</span></span></code></pre>

    </div><h2>æˆ‘</h2>
<p>å¼‚æ­¥å›è°ƒç‰ˆçš„ç›´æ¥è·³è¿‡ï¼Œå®Œå…¨ä¸æƒ³ç”¨ã€‚</p>
<p>ç„¶åæœ¬æ¥æƒ³ç”¨ <code>fs.promises.access()</code>ï¼Œä½†å®ƒå¾ˆå¥‡æ€ªï¼Œå¹¶ä¸æ˜¯é€šè¿‡è¿”å›å€¼æ¥å‘ŠçŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œè€Œæ˜¯é€šè¿‡ Promise çš„è§£æç»“æœï¼Œè§£ææˆåŠŸè¡¨æ˜æ–‡ä»¶å­˜åœ¨ï¼Œè§£æå¤±è´¥è¡¨æ˜æ–‡ä»¶ä¸å­˜åœ¨ã€‚è¿™å°±æ„å‘³ç€æˆ‘è¿˜è¦è‡ªå·±å°è£…ä¸€ä¸‹ã€‚</p>
<p>æ‰€ä»¥è¿˜æ˜¯ç›´æ¥ç”¨ <code>fs.existsSync()</code> å§ã€‚</p>
</article><article id="2024-07-27T0800"><header class="flex gap-4 items-center"><time datetime="">2024-07-27</time><span>#html</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-27T0800">HTML - lazy load images using only HTML</a></h1><p>Yes, you can lazy load images using only HTML without JavaScript.</p>
<p>Just set the <code>loading</code> attribute on <code>&lt;img&gt;</code> tags to <code>lazy</code>. The browser will load the image when the user scrolls to it.</p>
<p>For example:</p>

    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="lang">html</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">img</span><span style="color:#9CDCFE"> src</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"image.jpg"</span><span style="color:#9CDCFE"> alt</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"Alt text..."</span><span style="color:#9CDCFE"> loading</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"lazy"</span><span style="color:#808080"> /></span></span></code></pre>

    </div><p>Source:</p>
<p><a href="https://saneef.com/blog/lazy-load/" target="_blank">https://saneef.com/blog/lazy-load/</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#loading" target="_blank">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#loading</a></p>
</article><article id="2024-07-27T0810"><header class="flex gap-4 items-center"><time datetime="">2024-07-27</time><span>#astro</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-27T0810">Astro - collection item data structure</a></h1><p>For <code>type: &quot;content&quot;</code> collections ,each collection item will have the following data:</p>
<ul>
<li><code>id</code>: The file name (include the file extension) of the collection entry file.</li>
<li><code>collection</code>: The folder name of the collection directory.</li>
<li><code>data</code>: An object of frontmatter properties inferred from your collection schema. Defaults to <code>any</code> if no schema is configured.</li>
<li><code>slug</code>: Defaults to the sluggify <code>id</code> without the file extension.</li>
<li><code>body</code>: A string containing the raw, uncompiled body of the Markdown or MDX document.</li>
<li><code>render()</code></li>
</ul>
<p>For Example:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#D4D4D4">{</span></span>
<span class="line"><span style="color:#C8C8C8">  id</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"2024-06-23T0930.md"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#C8C8C8">  slug</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"2024-06-23t0930"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#C8C8C8">  body</span><span style="color:#D4D4D4">: </span><span style="color:#9CDCFE">string</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#C8C8C8">  collection</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"tils"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#C8C8C8">  data</span><span style="color:#D4D4D4">: </span><span style="color:#9CDCFE">any</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p>Source:</p>
<p><a href="https://docs.astro.build/en/reference/api-reference/#collection-entry-type" target="_blank">https://docs.astro.build/en/reference/api-reference/#collection-entry-type</a></p>
</article><article id="2024-07-27T0820"><header class="flex gap-4 items-center"><time datetime="">2024-07-27</time><span>#css</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-27T0820">CSS - Prevent Horizontal Scroll on Smaller Devices</a></h1><h2>é—®é¢˜</h2>
<p>å½“é¡µé¢å®½åº¦è¾ƒå°æ—¶ï¼Œè«åå‡ºç°æ¨ªå‘æ»šåŠ¨æ¡ã€‚</p>
<h2>è§£å†³æ–¹æ³• (æœ‰æ•ˆ)</h2>

    <div class="code-block__wrapper language-css">
      <div class="code-block__header">
        <span class="lang">css</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-css"><span class="line"><span style="color:#D7BA7D">html</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  overflow-y</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">scroll</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D7BA7D">:root</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  overflow-y</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">auto</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">  overflow-x</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">hidden</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D7BA7D">:root</span><span style="color:#D7BA7D"> body</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  position</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">absolute</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D7BA7D">body</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  width</span><span style="color:#D4D4D4">: </span><span style="color:#B5CEA8">100vw</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">  overflow</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">hidden</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p>è¯¥æ–¹æ³•å®Œç¾è§£å†³ï¼Œä½†æˆ‘ä¸æ˜ç™½åŸç†ã€‚</p>
<p>å‚è€ƒï¼š</p>
<p><a href="https://www.cnblogs.com/ricksteves/p/12266814.html" target="_blank">https://www.cnblogs.com/ricksteves/p/12266814.html</a>
è§£å†³ç§»åŠ¨ç«¯é¡µé¢å‡ºç° Xè½´æ¨ªå‘æ»šåŠ¨æ¡é—®é¢˜ - è¡Œæ–¹æ€è¿œ - åšå®¢å›­</p>
<p><a href="https://www.zhangxinxu.com/wordpress/2015/01/css-page-scrollbar-toggle-center-no-jumping/" target="_blank">https://www.zhangxinxu.com/wordpress/2015/01/css-page-scrollbar-toggle-center-no-jumping/</a>
å°tip:CSS vwè®©overflow:autoé¡µé¢æ»šåŠ¨æ¡å‡ºç°æ—¶ä¸è·³åŠ¨ Â« å¼ é‘«æ—­-é‘«ç©ºé—´-é‘«ç”Ÿæ´»</p>
<h2>è§£å†³æ–¹æ³• (æ— æ•ˆ)</h2>

    <div class="code-block__wrapper language-css">
      <div class="code-block__header">
        <span class="lang">css</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-css"><span class="line"><span style="color:#D7BA7D">body</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  max-width</span><span style="color:#D4D4D4">: </span><span style="color:#B5CEA8">100%</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">  overflow-x</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">hidden</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p>è¯¥æ–¹æ³•ä»…å¯¹æ¡Œé¢ç«¯æœ‰ç”¨ï¼Œç§»åŠ¨ç«¯æ— æ•ˆã€‚</p>
<p>å‚è€ƒï¼š</p>
<p><a href="https://www.shecodes.io/athena/9925-prevent-horizontal-scroll-on-smaller-devices-with-css" target="_blank">https://www.shecodes.io/athena/9925-prevent-horizontal-scroll-on-smaller-devices-with-css</a>
Prevent Horizontal Scroll on Smaller Devices</p>
</article><article id="2024-07-26T0800"><header class="flex gap-4 items-center"><time datetime="">2024-07-26</time><span>#astro</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-26T0800">Astro - `public` dir</a></h1><p>ä½ å¯ä»¥åœ¨ <code>public/</code> ç›®å½•ä¸­å­˜æ”¾ä¸éœ€è¦åœ¨ Astro æ‰“åŒ…è¿‡ç¨‹ä¸­å¤„ç†çš„æ–‡ä»¶å’Œèµ„æºã€‚</p>
<p>Astro ä¼šå°†è¿™ä¸ªç›®å½•ä¸‹çš„å†…å®¹æ‹·è´åˆ°æ‰“åŒ…ç›®å½•ä¸­ã€‚æ³¨æ„ï¼Œå¹¶ä¸æ˜¯è¿å¸¦ <code>public/</code> ç›®å½•æœ¬èº«æ‹·è´åˆ°æ‰“åŒ…ç›®å½•ä¸­ï¼Œè€Œä»…ä»…æ˜¯å…¶å†…å®¹ã€å…¶å†…å®¹ã€å…¶å†…å®¹ï¼</p>
<h2>ä¸¾ä¸ªä¾‹å­ï¼š</h2>
<p>æºç ï¼š</p>

    <div class="code-block__wrapper language-txt">
      <div class="code-block__header">
        <span class="lang">txt</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-txt"><span class="line highlighted"><span>- public/</span></span>
<span class="line highlighted"><span>	- img/</span></span>
<span class="line highlighted"><span>		- img-01.png</span></span>
<span class="line highlighted"><span>	- favicon.svg</span></span>
<span class="line highlighted"><span>	- robots.txt</span></span>
<span class="line"><span>- src/</span></span>
<span class="line"><span>	- ...</span></span>
<span class="line"><span>- ...</span></span></code></pre>

    </div><p>æ‰“åŒ…åï¼š</p>

    <div class="code-block__wrapper language-txt">
      <div class="code-block__header">
        <span class="lang">txt</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-txt"><span class="line"><span>- dist/</span></span>
<span class="line highlighted"><span>	- img/</span></span>
<span class="line highlighted"><span>		- img-01.png</span></span>
<span class="line highlighted"><span>	- favicon.svg</span></span>
<span class="line highlighted"><span>	- robots.txt</span></span>
<span class="line"><span>	- index.html</span></span>
<span class="line"><span>	- ...</span></span></code></pre>

    </div><h2>Source:</h2>
<p><a href="https://docs.astro.build/en/basics/project-structure/#public" target="_blank">https://docs.astro.build/en/basics/project-structure/#public</a></p>
<ul>
<li><code>public/</code> ç›®å½•ç”¨äºå­˜æ”¾ä¸éœ€è¦åœ¨ Astro æ‰“åŒ…è¿‡ç¨‹ä¸­å¤„ç†çš„æ–‡ä»¶å’Œèµ„æºã€‚è¯¥æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶å°†<strong>åŸå°ä¸åŠ¨åœ°æ‹·è´åˆ°æ‰“åŒ…ç›®å½•ä¸­</strong>ï¼Œç„¶åå†æ‰“åŒ…æ‚¨çš„ç«™ç‚¹ã€‚</li>
</ul>
</article><article id="2024-07-26T0810"><header class="flex gap-4 items-center"><time datetime="">2024-07-26</time><span>#nodejs</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-26T0810">Node.js - è¯»å–è‡ªå®šä¹‰ç¯å¢ƒå˜é‡</a></h1><p>æ–¹æ³•ï¼šä½¿ç”¨ <a href="https://github.com/motdotla/dotenv" target="_blank">https://github.com/motdotla/dotenv</a></p>
<p>å®‰è£…ï¼š</p>

    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">npm</span><span style="color:#CE9178"> i</span><span style="color:#569CD6"> -D</span><span style="color:#CE9178"> dotenv</span></span></code></pre>

    </div><h2>å®šä¹‰ç¯å¢ƒå˜é‡</h2>
<p>Create a <code>.env</code> file in the root of your project.</p>
<p>For example:</p>

    <div class="code-block__wrapper language-env">
      <div class="code-block__header">
        <span class="code-block__filename">.env</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-txt"><span class="line"><span>TOKEN="12341234"</span></span></code></pre>

    </div><h2>è¯»å–ç¯å¢ƒå˜é‡</h2>
<p>ä»¥ ES modules ä¸ºä¾‹ï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#6A9955">// As early as possible in your application, import and configure dotenv</span></span>
<span class="line"><span style="color:#C586C0">import</span><span style="color:#CE9178"> "dotenv/config"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// Now, `process.env` has the keys and values you defined in your .env file.</span></span>
<span class="line"><span style="color:#9CDCFE">console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">process</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">env</span><span style="color:#D4D4D4">.</span><span style="color:#4FC1FF">TOKEN</span><span style="color:#D4D4D4">);</span></span></code></pre>

    </div></article><article id="2024-07-26T0820"><header class="flex gap-4 items-center"><time datetime="">2024-07-26</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-26T0820">JavaScript - Capture screenshots of websites</a></h1><p>æ–¹æ³•ï¼š</p>
<p>ä½¿ç”¨ <a href="https://github.com/sindresorhus/capture-website" target="_blank">https://github.com/sindresorhus/capture-website</a></p>
<p>å®‰è£…ï¼š</p>

    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">npm</span><span style="color:#CE9178"> i</span><span style="color:#CE9178"> capture-website</span></span></code></pre>

    </div><p>ç”¨æ³•ï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#9CDCFE"> captureWebsite</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "capture-website"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> captureWebsite</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">file</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"https://www.example.com/"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"example.png"</span><span style="color:#D4D4D4">);</span></span></code></pre>

    </div><p>Here, we take a screenshot for <a href="https://www.example.com/" target="_blank">https://www.example.com/</a> , and save it to <code>example.png</code> file.</p>
</article><article id="2024-07-25T0810"><header class="flex gap-4 items-center"><time datetime="">2024-07-25</time><span>#astro</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-25T0810">Astro - Cache Data Requests</a></h1><h2>Source</h2>
<p><a href="https://duffn.dev/caching-astro-fetch-requests/" target="_blank">https://duffn.dev/caching-astro-fetch-requests/</a></p>
<p>If you're looking to cache your requests to avoid hitting that API too frequently when developing locally, just use <code>eleventy-fetch</code>. Yes, even with Astro!</p>
<p>1ï¼‰Add <code>eleventy-fetch</code> as a dependency</p>

    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">npm</span><span style="color:#CE9178"> i</span><span style="color:#CE9178"> @11ty/eleventy-fetch</span></span></code></pre>

    </div><p>2ï¼‰Declare the package as a module in the <code>env.d.ts</code> file generated by Astro, since <code>eleventy-fetch</code> is not written in TypeScript by adding the line below to the end of the file.</p>

    <div class="code-block__wrapper language-ts">
      <div class="code-block__header">
        <span class="lang">ts</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-ts"><span class="line"><span style="color:#569CD6">declare</span><span style="color:#569CD6"> module</span><span style="color:#CE9178"> "@11ty/eleventy-fetch"</span><span style="color:#D4D4D4">;</span></span></code></pre>

    </div><p>3ï¼‰Now, just use <code>eleventy-fetch</code> wherever you'd normally use <code>fetch</code>! The below will cache the responses on disk in a <code>.cache</code> directory for 1 hour. You'll see the <code>.cache</code> directory populate with some files that hold the responses to your API requests.</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#9CDCFE"> EleventyFetch</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "@11ty/eleventy-fetch"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> results</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> EleventyFetch</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">`https://example.com/api`</span><span style="color:#D4D4D4">, {</span></span>
<span class="line"><span style="color:#9CDCFE">  duration:</span><span style="color:#CE9178"> "1h"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">  type:</span><span style="color:#CE9178"> "json"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#D4D4D4">});</span></span></code></pre>

    </div><p>4ï¼‰Ensure that you add the <code>.cache</code> directory to your <code>.gitignore</code>!</p>
<h2>Source</h2>
<p><a href="https://github.com/11ty/eleventy-fetch" target="_blank">https://github.com/11ty/eleventy-fetch</a></p>
<p>Fetch network resources and cache them so you donâ€™t bombard your API (or other resources). (bombard / è½°ç‚¸)</p>
<p>This plugin can save any kind of assetâ€”JSON, HTML, images, videos, etc.</p>
</article><article id="2024-07-25T0820"><header class="flex gap-4 items-center"><time datetime="">2024-07-25</time><span>#webapi</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-25T0820">Web  API - URL API</a></h1>
    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> url</span><span style="color:#D4D4D4"> = </span><span style="color:#569CD6">new</span><span style="color:#DCDCAA"> URL</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">window</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">location</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">href</span><span style="color:#D4D4D4">);</span></span></code></pre>

    </div><h2>Example 01</h2>
<p>If <code>window.location.href</code> is:</p>

    <div class="code-block__wrapper language-txt">
      <div class="code-block__header">
        <span class="lang">txt</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-txt"><span class="line"><span>http://localhost:4321/open-source-personal-sites?tech=Nextjs</span></span></code></pre>

    </div><p>... will return:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C8C8C8">hash</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">""</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">host</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"localhost:4321"</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">hostname</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"localhost"</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">href</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"http://localhost:4321/open-source-personal-sites?tech=Nextjs"</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">origin</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"http://localhost:4321"</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">password</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">""</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">pathname</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"/open-source-personal-sites"</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">port</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"4321"</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">protocol</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"http:"</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">search</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"?tech=Nextjs"</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">searchParams</span><span style="color:#D4D4D4">: </span><span style="color:#9CDCFE">URLSearchParams</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">tech</span><span style="color:#D4D4D4"> â†’ </span><span style="color:#CE9178">"Nextjs"</span><span style="color:#D4D4D4"> }</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">username</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">""</span></span></code></pre>

    </div><h2>Example 02</h2>
<p>If <code>window.location.href</code> is:</p>

    <div class="code-block__wrapper language-txt">
      <div class="code-block__header">
        <span class="lang">txt</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-txt"><span class="line"><span>http://localhost:4321/open-source-personal-sites</span></span></code></pre>

    </div><p>... will return:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C8C8C8">hash</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">""</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">host</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"localhost:4321"</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">hostname</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"localhost"</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">href</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"http://localhost:4321/open-source-personal-sites"</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">origin</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"http://localhost:4321"</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">password</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">""</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">pathname</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"/open-source-personal-sites"</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">port</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"4321"</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">protocol</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"http:"</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">search</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">""</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">searchParams</span><span style="color:#D4D4D4">: </span><span style="color:#DCDCAA">URLSearchParams</span><span style="color:#D4D4D4">(</span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">)</span></span>
<span class="line"><span style="color:#D4D4D4">â€‹</span></span>
<span class="line"><span style="color:#C8C8C8">username</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">""</span></span></code></pre>

    </div></article><article id="2024-07-25T0830"><header class="flex gap-4 items-center"><time datetime="">2024-07-25</time><span>#webapi</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-25T0830">Web API - DOM - `DOMContentLoaded` event</a></h1><h2>Source</h2>
<p>ChatGPT:</p>
<p>Here are some key points about the <code>DOMContentLoaded</code> event:</p>
<ul>
<li><strong>Timing</strong>:
<ul>
<li>It fires after the HTML is completely loaded and parsed, without waiting for stylesheets, images, and subframes to finish loading.</li>
<li>It signifies that the initial HTML document structure (the DOM ) is ready and can be manipulated safely with JavaScript.</li>
</ul>
</li>
<li><strong>Use Case</strong>:
<ul>
<li>It is commonly used to execute JavaScript code that manipulates or interacts with the DOM.</li>
</ul>
</li>
<li><strong>Alternative to <code>load</code> event</strong>:
<ul>
<li>Unlike the <code>load</code> event, which waits for all resources (images, stylesheets, etc.) to be loaded, <code>DOMContentLoaded</code> fires as soon as the initial HTML document is ready.</li>
</ul>
</li>
</ul>
</article><article id="2024-07-24T0800"><header class="flex gap-4 items-center"><time datetime="">2024-07-24</time><span>#11ty</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-24T0800">11ty - Fetch data, Provide data, Consume data</a></h1><h2>Example 01</h2>
<p>Let use the Random User Generator API to fetch an random user and render it.</p>
<p>1ï¼‰Fetch and provide data:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="code-block__filename">src/pages/subdir/subdir.11tydata.js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> fetchRandomUser</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> response</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> fetch</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"https://randomuser.me/api/"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> data</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> response</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">json</span><span style="color:#D4D4D4">();</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> randomUser</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">data</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">results</span><span style="color:#D4D4D4">[</span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">];</span></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#9CDCFE"> randomUser</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4EC9B0">module</span><span style="color:#D4D4D4">.</span><span style="color:#4EC9B0">exports</span><span style="color:#D4D4D4"> = </span><span style="color:#569CD6">async</span><span style="color:#D4D4D4"> () </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> randomUser</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> fetchRandomUser</span><span style="color:#D4D4D4">();</span></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">randomUser</span><span style="color:#D4D4D4"> };</span></span>
<span class="line"><span style="color:#D4D4D4">};</span></span></code></pre>

    </div><p>2ï¼‰Consume data:</p>

    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="code-block__filename">src/pages/subdir/index.njk</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">h1</span><span style="color:#808080">></span><span style="color:#D4D4D4">User</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">h1</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">div</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">  &#x3C;</span><span style="color:#569CD6">span</span><span style="color:#808080">></span><span style="color:#D4D4D4">{{ randomUser.name.first }}</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">span</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">  &#x3C;</span><span style="color:#569CD6">span</span><span style="color:#808080">></span><span style="color:#D4D4D4">{{ randomUser.name.last }}</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">span</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">div</span><span style="color:#808080">></span></span></code></pre>

    </div><h2>Example 02</h2>
<p>Let use the Airtable API.</p>
<p>1ï¼‰Fetch and provide data:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="code-block__filename">src/pages/subdir/subdir.11tydata.js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> EleventyFetch</span><span style="color:#D4D4D4"> = </span><span style="color:#DCDCAA">require</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"@11ty/eleventy-fetch"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> AIRTABLE_BASE_URL</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"https://api.airtable.com/v0"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> AIRTABLE_BASE_ID</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">process</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">env</span><span style="color:#D4D4D4">.</span><span style="color:#4FC1FF">AIRTABLE_BASE_ID</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> AIRTABLE_TABLE_ID</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">process</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">env</span><span style="color:#D4D4D4">.</span><span style="color:#4FC1FF">AIRTABLE_TABLE_ID</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> AIRTABLE_TOKEN</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">process</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">env</span><span style="color:#D4D4D4">.</span><span style="color:#4FC1FF">AIRTABLE_TOKEN</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> url</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">`</span><span style="color:#569CD6">${</span><span style="color:#4FC1FF">AIRTABLE_BASE_URL</span><span style="color:#569CD6">}</span><span style="color:#CE9178">/</span><span style="color:#569CD6">${</span><span style="color:#4FC1FF">AIRTABLE_BASE_ID</span><span style="color:#569CD6">}</span><span style="color:#CE9178">/</span><span style="color:#569CD6">${</span><span style="color:#4FC1FF">AIRTABLE_TABLE_ID</span><span style="color:#569CD6">}</span><span style="color:#CE9178">`</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> fetchAllRecordsFromAnAirtableTable</span><span style="color:#D4D4D4">() {</span></span>
<span class="line highlighted"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> result</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> EleventyFetch</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">, {</span></span>
<span class="line highlighted"><span style="color:#9CDCFE">    duration:</span><span style="color:#CE9178"> "1d"</span><span style="color:#D4D4D4">,</span></span>
<span class="line highlighted"><span style="color:#9CDCFE">    type:</span><span style="color:#CE9178"> "json"</span><span style="color:#D4D4D4">,</span></span>
<span class="line highlighted"><span style="color:#9CDCFE">    fetchOptions:</span><span style="color:#D4D4D4"> {</span></span>
<span class="line highlighted"><span style="color:#9CDCFE">      headers:</span><span style="color:#D4D4D4"> {</span></span>
<span class="line highlighted"><span style="color:#9CDCFE">        Authorization:</span><span style="color:#CE9178"> `Bearer </span><span style="color:#569CD6">${</span><span style="color:#4FC1FF">AIRTABLE_TOKEN</span><span style="color:#569CD6">}</span><span style="color:#CE9178">`</span><span style="color:#D4D4D4">,</span></span>
<span class="line highlighted"><span style="color:#D4D4D4">      },</span></span>
<span class="line highlighted"><span style="color:#D4D4D4">    },</span></span>
<span class="line highlighted"><span style="color:#D4D4D4">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#9CDCFE"> result</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">records</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4EC9B0">module</span><span style="color:#D4D4D4">.</span><span style="color:#4EC9B0">exports</span><span style="color:#D4D4D4"> = </span><span style="color:#569CD6">async</span><span style="color:#D4D4D4"> () </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> records</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> fetchAllRecordsFromAnAirtableTable</span><span style="color:#D4D4D4">();</span></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">records</span><span style="color:#D4D4D4"> };</span></span>
<span class="line"><span style="color:#D4D4D4">};</span></span></code></pre>

    </div><p>2ï¼‰Consume data:</p>

    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="code-block__filename">src/pages/subdir/index.njk</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">h1</span><span style="color:#808080">></span><span style="color:#D4D4D4">Records</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">h1</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">ul</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#D4D4D4">  {% for record in records %}</span></span>
<span class="line"><span style="color:#808080">  &#x3C;</span><span style="color:#569CD6">li</span><span style="color:#808080">></span><span style="color:#D4D4D4">{# ... #}</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">li</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#D4D4D4">  {% endfor %}</span></span>
<span class="line"><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">ul</span><span style="color:#808080">></span></span></code></pre>

    </div><h2>Source</h2>
<p><a href="https://randomuser.me/" target="_blank">https://randomuser.me/</a></p>
<ul>
<li>Random User Generator API - A free, open-source API for generating random user data.</li>
</ul>
<p><a href="https://www.11ty.dev/docs/data-template-dir/" target="_blank">https://www.11ty.dev/docs/data-template-dir/</a></p>
<ul>
<li>While you can provide <a href="https://www.11ty.dev/docs/data-global/" target="_blank">global data files</a> to supply data to all of your templates, you may want some of your data to <strong>be available locally only to one specific template or to a directory of templates</strong>.</li>
</ul>
<p><a href="https://www.11ty.dev/docs/data-js/" target="_blank">https://www.11ty.dev/docs/data-js/</a></p>
<ul>
<li>JavaScript Data Files</li>
</ul>
<p><a href="https://www.11ty.dev/docs/quicktips/cache-api-requests/" target="_blank">https://www.11ty.dev/docs/quicktips/cache-api-requests/</a></p>
<ul>
<li>if youâ€™re working on your site locally, you probably donâ€™t want every Eleventy build to make a request to an external API call.</li>
</ul>
<p><a href="https://www.11ty.dev/docs/plugins/fetch/" target="_blank">https://www.11ty.dev/docs/plugins/fetch/</a></p>
<ul>
<li><code>@11ty/eleventy-fetch</code> plugin</li>
</ul>
</article><article id="2024-07-24T0810"><header class="flex gap-4 items-center"><time datetime="">2024-07-24</time><span>#nunjucks</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-24T0810">Nunjucks - if, if else</a></h1><h2>Example 01 - if</h2>

    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="lang">html</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#D4D4D4">---</span></span>
<span class="line"><span style="color:#D4D4D4">age: 28</span></span>
<span class="line"><span style="color:#D4D4D4">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4">{% if age >= 18 %}</span></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">p</span><span style="color:#808080">></span><span style="color:#D4D4D4">ä½ æ˜¯æˆå¹´äººã€‚</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">p</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#D4D4D4">{% endif %}</span></span></code></pre>

    </div><h2>Example 02 - if else</h2>

    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="lang">html</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#D4D4D4">---</span></span>
<span class="line"><span style="color:#D4D4D4">age: 28</span></span>
<span class="line"><span style="color:#D4D4D4">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4">{% if age >= 18 %}</span></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">p</span><span style="color:#808080">></span><span style="color:#D4D4D4">ä½ æ˜¯æˆå¹´äººã€‚</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">p</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#D4D4D4">{% else %}</span></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">p</span><span style="color:#808080">></span><span style="color:#D4D4D4">ä½ ä¸æ˜¯æˆå¹´äººã€‚</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">p</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#D4D4D4">{% endif %}</span></span></code></pre>

    </div><h2>Source</h2>
<p><a href="https://mozilla.github.io/nunjucks/templating.html#if" target="_blank">https://mozilla.github.io/nunjucks/templating.html#if</a></p>
</article><article id="2024-07-23T0800"><header class="flex gap-4 items-center"><time datetime="">2024-07-23</time><span>#astro</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-23T0800">Astro - styles do not work with `set:html`</a></h1><h2>Problem:</h2>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>

    <div class="code-block__wrapper language-astro">
      <div class="code-block__header">
        <span class="code-block__filename">src/pages/somepage.astro</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-astro"><span class="line"><span style="color:#6A9955">---</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> html</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">'&#x3C;p>Hello world.&#x3C;/p>'</span></span>
<span class="line"><span style="color:#6A9955">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#4EC9B0">Fragment</span><span style="color:#9CDCFE"> set:html</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">html</span><span style="color:#569CD6">}</span><span style="color:#808080"> /></span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">style</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#D7BA7D">  p</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">    color</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">red</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">style</span><span style="color:#808080">></span></span></code></pre>

    </div><p>å½“æˆ‘åƒä¸Šé¢è¿™æ ·åšæ—¶ï¼Œåœ¨ <code>&lt;style&gt;</code> é‡Œå†™çš„æ ·å¼å¹¶æ²¡æœ‰åº”ç”¨åˆ° <code>&lt;Fragment /&gt;</code> å†…éƒ¨çš„å…ƒç´ ã€‚</p>
<h2>Why:</h2>
<p>è¿™æ˜¯å› ä¸º Astro æ ¹æ®ä½ å†™çš„æ ·å¼ç”Ÿæˆçš„æ ·å¼æ˜¯è¿™æ ·çš„ï¼š</p>

    <div class="code-block__wrapper language-css">
      <div class="code-block__header">
        <span class="lang">css</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-css"><span class="line"><span style="color:#D7BA7D">p</span><span style="color:#D4D4D4">[</span><span style="color:#9CDCFE">data-astro-cid-xxxxxxxx</span><span style="color:#D4D4D4">] {</span></span>
<span class="line"><span style="color:#9CDCFE">  color</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">red</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p>è€Œå¯¹äºé€šè¿‡ <code>set:html</code> çš„æ–¹å¼æ·»åŠ çš„æ¯ä¸ªå…ƒç´ ï¼ŒAstro æ²¡æœ‰ç»™å®ƒä»¬æ·»åŠ  <code>data-astro-cid-xxxx=&quot;&quot;</code> ä¹‹ç±»çš„å±æ€§ï¼Œæ‰€ä»¥ä¸Šé¢è¿™ä¸ªé€‰æ‹©å™¨è‡ªç„¶æ— æ³•ä½œç”¨åˆ° <code>p</code>ã€‚</p>
<h2>Solution:</h2>
<p>To fix this problem, you can opt-out of automatic CSS scoping with the <code>&lt;style is:global&gt;</code> attribute.</p>

    <div class="code-block__wrapper language-astro">
      <div class="code-block__header">
        <span class="code-block__filename">src/pages/somepage.astro</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-astro"><span class="line"><span style="color:#6A9955">---</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> html</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">'&#x3C;p>Hello world.&#x3C;/p>'</span></span>
<span class="line"><span style="color:#6A9955">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#4EC9B0">Fragment</span><span style="color:#9CDCFE"> set:html</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">html</span><span style="color:#569CD6">}</span><span style="color:#808080"> /></span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">style</span><span style="color:#9CDCFE"> is:global</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#6A9955">  /* Unscoped, delivered as-is to the browser.</span></span>
<span class="line"><span style="color:#6A9955">     Applies to all &#x3C;p> tags on your site. */</span></span>
<span class="line"><span style="color:#D7BA7D">  p</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">    color</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">red</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">style</span><span style="color:#808080">></span></span></code></pre>

    </div><h2>Source:</h2>
<p><a href="https://docs.astro.build/en/guides/styling/#global-styles" target="_blank">https://docs.astro.build/en/guides/styling/#global-styles</a></p>
<ul>
<li>You can opt-out of automatic CSS scoping with the <code>&lt;style is:global&gt;</code> attribute.</li>
</ul>
</article><article id="2024-07-23T0810"><header class="flex gap-4 items-center"><time datetime="">2024-07-23</time><span>#astro</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-23T0810">Astro - fetch remote data</a></h1><h2>Source:</h2>
<p><a href="https://docs.astro.build/en/guides/data-fetching/" target="_blank">https://docs.astro.build/en/guides/data-fetching/</a></p>
<ul>
<li>Remember, all data in Astro components is <strong>fetched when a component is rendered</strong>.</li>
<li>In dev, you will see data <strong>fetches on component refreshes</strong>.</li>
</ul>
</article><article id="2024-07-23T0820"><header class="flex gap-4 items-center"><time datetime="">2024-07-23</time><span>#astro</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-23T0820">Astro - Add interactivity to your Astro components</a></h1><h2>Example:</h2>

    <div class="code-block__wrapper language-astro">
      <div class="code-block__header">
        <span class="code-block__filename">src/components/Hello.astro</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-astro"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">h1</span><span style="color:#808080">></span><span style="color:#D4D4D4">Welcome, world!</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">h1</span><span style="color:#808080">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">script</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#9CDCFE">  console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">'Welcome, browser console!'</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">script</span><span style="color:#808080">></span></span></code></pre>

    </div><h2>Source:</h2>
<p><a href="https://docs.astro.build/en/guides/client-side-scripts/" target="_blank">https://docs.astro.build/en/guides/client-side-scripts/</a></p>
<ul>
<li>In <code>.astro</code> files, you can add client-side JavaScript by adding one (or more) <code>&lt;script&gt;</code> tags.</li>
<li>This allows you to send JavaScript to run in the browser and add functionality to your Astro components.</li>
</ul>
</article><article id="2024-07-23T0830"><header class="flex gap-4 items-center"><time datetime="">2024-07-23</time><span>#airtable</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-23T0830">Airtable API</a></h1><h2>Auth</h2>
<p>å‰å¾€ <a href="https://airtable.com/create/tokens" target="_blank">https://airtable.com/create/tokens</a> åˆ›å»ºå¯†é’¥ï¼Œæ¯”å¦‚ Personal access tokenã€‚</p>
<h2>List records in a table</h2>
<p>æ¥å£ï¼š</p>

    <div class="code-block__wrapper language-txt">
      <div class="code-block__header">
        <span class="lang">txt</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-txt"><span class="line"><span>https://api.airtable.com/v0/{baseId}/{tableIdOrName}</span></span></code></pre>

    </div><p>ç¤ºä¾‹ï¼š</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> TOKEN</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"..."</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> BASE_ID</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"..."</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> TABLE_ID</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"..."</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> BASE_URL</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"https://api.airtable.com/v0"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> url</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">`</span><span style="color:#569CD6">${</span><span style="color:#4FC1FF">BASE_URL</span><span style="color:#569CD6">}</span><span style="color:#CE9178">/</span><span style="color:#569CD6">${</span><span style="color:#4FC1FF">BASE_ID</span><span style="color:#569CD6">}</span><span style="color:#CE9178">/</span><span style="color:#569CD6">${</span><span style="color:#4FC1FF">TABLE_ID</span><span style="color:#569CD6">}</span><span style="color:#CE9178">`</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> fetchAllRecordsFromAnAirtableTable</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> response</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> fetch</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">url</span><span style="color:#D4D4D4">, {</span></span>
<span class="line"><span style="color:#9CDCFE">    headers:</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">      Authorization:</span><span style="color:#CE9178"> `Bearer </span><span style="color:#569CD6">${</span><span style="color:#4FC1FF">AIRTABLE_TOKEN</span><span style="color:#569CD6">}</span><span style="color:#CE9178">`</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#D4D4D4">    },</span></span>
<span class="line"><span style="color:#D4D4D4">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> result</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> response</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">json</span><span style="color:#D4D4D4">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#9CDCFE"> result</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">records</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><h2>Source</h2>
<p><a href="https://airtable.com/developers/web/guides/personal-access-tokens" target="_blank">https://airtable.com/developers/web/guides/personal-access-tokens</a></p>
<ul>
<li>Create Personal access token</li>
</ul>
</article><article id="2024-07-22T0800"><header class="flex gap-4 items-center"><time datetime="">2024-07-22</time><span>#git</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-22T0800">Git Ignoring Tracked Files</a></h1><p>å‡è®¾ä½ çš„é¡¹ç›®é‡Œæœ‰ä¸€ä¸ª <code>src/somedir</code> ç›®å½•ï¼Œè¿™ä¸ªç›®å½• were previously tracked by Gitã€‚ç°åœ¨ä½ æƒ³è®© Git ä¸å† track è¿™ä¸ªç›®å½•äº†ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼š</p>

    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">git</span><span style="color:#CE9178"> rm</span><span style="color:#569CD6"> --cached</span><span style="color:#569CD6"> -r</span><span style="color:#CE9178"> src/somedir/</span></span></code></pre>

    </div><ul>
<li><code>git rm</code>: This is the Git command used to remove files from the index (also known as the staging area) and the working directory.</li>
<li><code>--cached</code>: This option tells Git to only remove the specified files or directories from the index, without touching the actual files in the working directory.</li>
<li><code>-r</code>: This option tells Git to recursively removes the directory and its contents from Git's index.</li>
</ul>
<p>å®Œæˆä¸Šé¢è¿™æ­¥åï¼Œå†å°† <code>src/somedir/</code> åŠ åˆ° <code>.gitignore</code> é‡Œå°±å¤§åŠŸå‘Šæˆäº†ã€‚</p>
<p>source: ChatGPT</p>
</article><article id="2024-07-22T0810"><header class="flex gap-4 items-center"><time datetime="">2024-07-22</time><span>#11ty</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-22T0810">11ty - get the raw file content of collection items</a></h1><h2>Example:</h2>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="code-block__filename">.elevent.js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#4EC9B0">module</span><span style="color:#D4D4D4">.</span><span style="color:#4EC9B0">exports</span><span style="color:#D4D4D4"> = </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">eleventyConfig</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#9CDCFE">  eleventyConfig</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">addCollection</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"posts"</span><span style="color:#D4D4D4">, </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">collectionApi</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#C586C0">    return</span><span style="color:#9CDCFE"> collectionApi</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">getFilteredByGlob</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"src/posts/*.md"</span><span style="color:#D4D4D4">).</span><span style="color:#DCDCAA">map</span><span style="color:#D4D4D4">((</span><span style="color:#9CDCFE">item</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> {</span></span>
<span class="line highlighted"><span style="color:#569CD6">      const</span><span style="color:#4FC1FF"> rawMarkdown</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">item</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">template</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">frontMatter</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">content</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">      const</span><span style="color:#D4D4D4"> { </span><span style="color:#4FC1FF">tags</span><span style="color:#D4D4D4"> } = </span><span style="color:#DCDCAA">markdownToPostData</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">rawMarkdown</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#9CDCFE">      item</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">data</span><span style="color:#D4D4D4"> = { </span><span style="color:#9CDCFE">tags</span><span style="color:#D4D4D4"> };</span></span>
<span class="line"><span style="color:#C586C0">      return</span><span style="color:#9CDCFE"> item</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">    });</span></span>
<span class="line"><span style="color:#D4D4D4">  });</span></span>
<span class="line"><span style="color:#6A9955">  // ...</span></span>
<span class="line"><span style="color:#D4D4D4">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">function</span><span style="color:#DCDCAA"> markdownToPostData</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">rawMarkdown</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#6A9955">  // ...</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><h2>Source:</h2>
<p><a href="https://github.com/11ty/eleventy/issues/1206#issuecomment-718226128" target="_blank">https://github.com/11ty/eleventy/issues/1206#issuecomment-718226128</a></p>
<ul>
<li>Note that in the <code>map()</code> weâ€™re appending it to the itemâ€™s <code>data</code> object as <code>rawMarkdown</code>.</li>
<li><code>item.data.rawMarkdown = item.template.frontMatter.content || &quot;&quot;;</code></li>
</ul>
<p><a href="https://github.com/11ty/eleventy/issues/1206#issuecomment-718250941" target="_blank">https://github.com/11ty/eleventy/issues/1206#issuecomment-718250941</a></p>
<ul>
<li>using <code>item.template.frontMatter.content</code> in a collection, to extract hashtags as tags:</li>
<li><code>let tags = hashtagsToTags(note.template.frontMatter.content);</code></li>
</ul>
</article><article id="2024-07-22T0820"><header class="flex gap-4 items-center"><time datetime="">2024-07-22</time><span>#11ty</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-22T0820">11ty - addPassthroughCopy()</a></h1><h2>Example:</h2>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="code-block__filename">.elevent.js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#4EC9B0">module</span><span style="color:#D4D4D4">.</span><span style="color:#4EC9B0">exports</span><span style="color:#D4D4D4"> = (</span><span style="color:#9CDCFE">eleventyConfig</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#6A9955">  // Copy all content in `src/css/` to `dist`</span></span>
<span class="line highlighted"><span style="color:#9CDCFE">  eleventyConfig</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">addPassthroughCopy</span><span style="color:#D4D4D4">({ </span><span style="color:#CE9178">"src/css"</span><span style="color:#9CDCFE">:</span><span style="color:#CE9178"> "/"</span><span style="color:#D4D4D4"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">  // Copy all content in `src/css/` to `dist/css`</span></span>
<span class="line highlighted"><span style="color:#9CDCFE">  eleventyConfig</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">addPassthroughCopy</span><span style="color:#D4D4D4">({ </span><span style="color:#CE9178">"src/css"</span><span style="color:#9CDCFE">:</span><span style="color:#CE9178"> "css"</span><span style="color:#D4D4D4"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">    dir:</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">      input:</span><span style="color:#CE9178"> "src"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">      output:</span><span style="color:#CE9178"> "dist"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#D4D4D4">    },</span></span>
<span class="line"><span style="color:#D4D4D4">  };</span></span>
<span class="line"><span style="color:#D4D4D4">};</span></span></code></pre>

    </div><h2>Source:</h2>
<p><a href="https://www.11ty.dev/docs/copy/#change-the-output-directory" target="_blank">https://www.11ty.dev/docs/copy/#change-the-output-directory</a></p>
</article><article id="2024-07-16T0800"><header class="flex gap-4 items-center"><time datetime="">2024-07-16</time><span>#git</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-16T0800">Git add submodule</a></h1>
    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">git</span><span style="color:#CE9178"> submodule</span><span style="color:#CE9178"> {repo-url}</span><span style="color:#CE9178"> {dirname}</span></span></code></pre>

    </div><p>Example #1 - Add all the content of a repository as a submodule to a given directory of an repository</p>

    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">git</span><span style="color:#CE9178"> submodule</span><span style="color:#CE9178"> add</span><span style="color:#CE9178"> https://github.com/jiminpublic/lab-content</span><span style="color:#CE9178"> src/pages/content</span></span></code></pre>

    </div><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½ ä¸èƒ½æå‰åˆ›å»ºå¥½ content ç›®å½•ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼š</p>

    <div class="code-block__wrapper language-txt">
      <div class="code-block__header">
        <span class="lang">txt</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-txt"><span class="line"><span>fatal: 'src/pages/content' already exists in the index</span></span></code></pre>

    </div><p>ä¹Ÿå°±æ˜¯è¯´åœ¨è®¾ç½®è¦æ”¾ç½® submodule çš„ç›®å½•æ—¶ï¼Œä½ å¿…é¡»å¾—è®©è¿™ä¸ªå‘½ä»¤å»å¸®ä½ åˆ›å»ºè¿™ä¸ªç›®å½•ã€‚</p>
<p>å‘½ä»¤è¿è¡Œåï¼Œä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆä¸€ä¸ª <code>.gitmodules</code> æ–‡ä»¶ï¼š</p>

    <div class="code-block__wrapper language-.gitmodules">
      <div class="code-block__header">
        <span class="lang">.gitmodules</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-txt"><span class="line"><span>[submodule "src/pages/content"]</span></span>
<span class="line"><span>	path = src/pages/content/submodule</span></span>
<span class="line"><span>	url = https://github.com/jiminpublic/lab-content</span></span></code></pre>

    </div><p>ä¸æ­¤åŒæ—¶ï¼Œ<code>.git</code> ç›®å½•é‡Œçš„ <code>config</code> æ–‡ä»¶ä¼šæ–°å¢ä»¥ä¸‹å†…å®¹ï¼š</p>

    <div class="code-block__wrapper language-config">
      <div class="code-block__header">
        <span class="lang">config</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-txt"><span class="line"><span>[submodule "src/pages/content"]</span></span>
<span class="line"><span>	url = https://github.com/jiminpublic/lab-content</span></span>
<span class="line"><span>	active = true</span></span></code></pre>

    </div></article><article id="2024-07-16T0810"><header class="flex gap-4 items-center"><time datetime="">2024-07-16</time><span>#11ty</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-16T0810">11ty fix the problem that css style does not work</a></h1><h2>Problem</h2>
<p>æˆ‘é‡åˆ°çš„é—®é¢˜æ˜¯ï¼šæˆ‘åœ¨æœ¬åœ°ä¸Šè¿è¡Œæ—¶ï¼Œæ ·å¼è¿˜å¥½å¥½åœ°ï¼Œä½†æ˜¯å°†ç½‘ç«™éƒ¨ç½²åˆ° Github Page ä¹‹åï¼Œå†™åœ¨æ ·å¼è¡¨é‡Œçš„æ ·å¼å´ä¸€ä¸€å¤±æ•ˆäº†ã€‚</p>
<p>æˆ‘å¾ˆå¿«æ„è¯†åˆ°è¿™ä¸ªé—®é¢˜å¯èƒ½è·Ÿæ ·å¼è¡¨çš„é“¾æ¥æœ‰å…³ï¼Œæ‰“å¼€æ§åˆ¶å°ä¸€çœ‹ï¼Œæœç„¶ï¼š</p>

    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="lang">html</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">link</span><span style="color:#9CDCFE"> rel</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"stylesheet"</span><span style="color:#9CDCFE"> href</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"/style.css"</span><span style="color:#808080"> /></span></span></code></pre>

    </div><p>æ ·å¼è¡¨è·¯å¾„æœ‰é—®é¢˜ï¼š</p>
<ul>
<li>å®é™…è·¯å¾„æ˜¯ï¼š <code>https://jiminpublic.github.io/lab-11ty-njk/style.css</code></li>
<li>ä½† <code>link</code> æ ‡ç­¾é‡Œå¼•ç”¨çš„æ˜¯ <code>https://jiminpublic.github.io/style.css</code></li>
</ul>
<h2>Solution</h2>
<p>è§£å†³è¿™ä¸ªé—®é¢˜éœ€è¦åšå¥½ä¸¤ä»¶äº‹ï¼š</p>
<ul>
<li>ä¸€æ˜¯è®¾å®šéƒ¨ç½²ç¯å¢ƒä¸‹ 11ty build å‘½ä»¤çš„ <code>pathprefix</code> å‚æ•°ã€‚</li>
<li>äºŒæ˜¯åº”ç”¨ EleventyHtmlBasePlugin æ’ä»¶ï¼Œè¿™ä¸ªæ’ä»¶ä¼šç»™ä½ æ‰€æœ‰å¼•ç”¨äº† url çš„åœ°æ–¹ append ä¸Š pathprefixã€‚</li>
</ul>
<p>package.json</p>

    <div class="code-block__wrapper language-json">
      <div class="code-block__header">
        <span class="lang">json</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-json"><span class="line"><span style="color:#CE9178">    "build-ghpages"</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"eleventy --pathprefix=/lab-11ty-njk/"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#CE9178">    "predeploy"</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"npm run build-ghpages"</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#CE9178">    "deploy"</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">"gh-pages -d dist"</span></span></code></pre>

    </div><p>.eleventy.js</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> { </span><span style="color:#4FC1FF">EleventyHtmlBasePlugin</span><span style="color:#D4D4D4"> } = </span><span style="color:#DCDCAA">require</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"@11ty/eleventy"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4EC9B0">module</span><span style="color:#D4D4D4">.</span><span style="color:#4EC9B0">exports</span><span style="color:#D4D4D4"> = </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">eleventyConfig</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#9CDCFE">  eleventyConfig</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">addPlugin</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">EleventyHtmlBasePlugin</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#6A9955">  // ...</span></span>
<span class="line"><span style="color:#D4D4D4">};</span></span></code></pre>

    </div><h2>FIN</h2>
<p>æœ€åéƒ¨ç½²æ—¶ build å‡ºæ¥çš„æ ·å¼è¡¨çš„é“¾æ¥å°±æ˜¯æ­£ç¡®çš„äº†ï¼š</p>

    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="lang">html</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">link</span><span style="color:#9CDCFE"> rel</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"stylesheet"</span><span style="color:#9CDCFE"> href</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"/lab-11ty-njk/style.css"</span><span style="color:#808080"> /></span></span></code></pre>

    </div><p>source:</p>
<ul>
<li><a href="https://www.11ty.dev/docs/config/#deploy-to-a-subdirectory-with-a-path-prefix" target="_blank">https://www.11ty.dev/docs/config/#deploy-to-a-subdirectory-with-a-path-prefix</a>
<ul>
<li>If your site lives in a different subdirectory (particularly useful with GitHub pages), use pathPrefix to specify this.</li>
</ul>
</li>
<li><a href="https://www.11ty.dev/docs/plugins/html-base/" target="_blank">https://www.11ty.dev/docs/plugins/html-base/</a>
<ul>
<li>HTML Base Plugin â€” Eleventy</li>
</ul>
</li>
</ul>
</article><article id="2024-07-16T0820"><header class="flex gap-4 items-center"><time datetime="">2024-07-16</time><span>#11ty</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-16T0820">Deploy an 11ty project to Github pages</a></h1><p>source:</p>
<ul>
<li><a href="https://www.11ty.dev/docs/deployment/#deploy-an-eleventy-project-to-github-pages" target="_blank">https://www.11ty.dev/docs/deployment/#deploy-an-eleventy-project-to-github-pages</a> - å€ŸåŠ© Github Actions</li>
</ul>
</article><article id="2024-07-12T2000"><header class="flex gap-4 items-center"><time datetime="">2024-07-12</time><span>#astro</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-12T2000">Astro render markdown to html</a></h1><p>1ï¼‰</p>

    <div class="code-block__wrapper language-astro">
      <div class="code-block__header">
        <span class="code-block__filename">/src/pages/example.astro</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-astro"><span class="line"><span style="color:#6A9955">---</span></span>
<span class="line"><span style="color:#6A9955">// Using "marked" to parse markdown to html (https://github.com/markedjs/marked)</span></span>
<span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">marked</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> 'marked'</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> markdown</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"# heading 1"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> content</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">marked</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">parse</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">markdown</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#6A9955">---</span></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">article</span><span style="color:#9CDCFE"> set:html</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">content</span><span style="color:#569CD6">}</span><span style="color:#808080"> /></span></span></code></pre>

    </div><ol>
<li>å°† Markdown è§£æä¸º HTMLã€‚</li>
<li>ç»™å…ƒç´ è®¾ç½® innerHTMLã€‚</li>
</ol>
<p>source: <a href="https://docs.astro.build/en/guides/markdown-content/#fetching-remote-markdown" target="_blank">https://docs.astro.build/en/guides/markdown-content/#fetching-remote-markdown</a></p>
<p>2ï¼‰
å¦‚æœä½ ä¸æƒ³å°† HTML ç›´æ¥è®¾ç½®åœ¨æŸä¸ªå…ƒç´ ä¸Šï¼Œåˆ™å¯ä»¥è®¾ç½®åœ¨ Astro å†…ç½®çš„ <code>Fragment</code> ç»„ä»¶ä¸Šï¼š</p>

    <div class="code-block__wrapper language-astro">
      <div class="code-block__header">
        <span class="code-block__filename">src/pages/example.astro</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-astro"><span class="line"><span style="color:#6A9955">---</span></span>
<span class="line"><span style="color:#6A9955">// Using "marked" (https://github.com/markedjs/marked)</span></span>
<span class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">marked</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> 'marked'</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> markdown</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"# heading 1"</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> content</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">marked</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">parse</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">markdown</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#6A9955">---</span></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#4EC9B0">Fragment</span><span style="color:#9CDCFE"> set:html</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">content</span><span style="color:#569CD6">}</span><span style="color:#808080"> /></span></span></code></pre>

    </div><p>source: <a href="https://docs.astro.build/en/basics/astro-syntax/#fragments" target="_blank">https://docs.astro.build/en/basics/astro-syntax/#fragments</a></p>
</article><article id="2024-07-12T2010"><header class="flex gap-4 items-center"><time datetime="">2024-07-12</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-12T2010">JavaScript slugify a string</a></h1><p>Using <code>@sindresorhus/slugify</code> to slugify a string in JavaScript:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#C586C0">import</span><span style="color:#9CDCFE"> slugify</span><span style="color:#C586C0"> from</span><span style="color:#CE9178"> "@sindresorhus/slugify"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA">slugify</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"BAR and baz"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#6A9955">//=> 'bar-and-baz'</span></span></code></pre>

    </div><p>source: <a href="https://github.com/sindresorhus/slugify" target="_blank">https://github.com/sindresorhus/slugify</a></p>
</article><article id="2024-07-12T2020"><header class="flex gap-4 items-center"><time datetime="">2024-07-12</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-12T2020">JavaScript check whether or not a pattern exists in a searched string</a></h1><p>To do this, we can use the <code>test()</code> method of <code>RegExp</code> instances.</p>
<p>Example #1 - Check if there are hashtags in the given string:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> result</span><span style="color:#D4D4D4"> =</span><span style="color:#D16969"> /#</span><span style="color:#CE9178">[</span><span style="color:#D16969">a-z</span><span style="color:#CE9178">]</span><span style="color:#D16969">/</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">test</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"hello #world"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE">console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">result</span><span style="color:#D4D4D4">); </span><span style="color:#6A9955">// true</span></span></code></pre>

    </div><p>Example #2 - Check if &quot;hello&quot; is contained at the very beginning of a string:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> str</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">"hello world!"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> result</span><span style="color:#D4D4D4"> =</span><span style="color:#D16969"> /</span><span style="color:#DCDCAA">^</span><span style="color:#D16969">hello/</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">test</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">str</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE">console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">result</span><span style="color:#D4D4D4">); </span><span style="color:#6A9955">// true</span></span></code></pre>

    </div><p>source: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test</a></p>
</article><article id="2024-07-12T2030"><header class="flex gap-4 items-center"><time datetime="">2024-07-12</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-12T2030">JavaScript removes elements from an array</a></h1><p>To do this, we can use the <code>splice()</code> method of <code>Array</code> instances.</p>
<p>Example #1 - Remove 1 element at index 3:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> myFish</span><span style="color:#D4D4D4"> = [</span><span style="color:#CE9178">"angel"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"clown"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"drum"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"mandarin"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"sturgeon"</span><span style="color:#D4D4D4">];</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> removed</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">myFish</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">splice</span><span style="color:#D4D4D4">(</span><span style="color:#B5CEA8">3</span><span style="color:#D4D4D4">, </span><span style="color:#B5CEA8">1</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// myFish is ["angel", "clown", "drum", "sturgeon"]</span></span>
<span class="line"><span style="color:#6A9955">// removed is ["mandarin"]</span></span></code></pre>

    </div><p>Example #2 - Remove 2 elements, starting from index 2:</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> myFish</span><span style="color:#D4D4D4"> = [</span><span style="color:#CE9178">"parrot"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"anemone"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"blue"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"trumpet"</span><span style="color:#D4D4D4">, </span><span style="color:#CE9178">"sturgeon"</span><span style="color:#D4D4D4">];</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> removed</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">myFish</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">splice</span><span style="color:#D4D4D4">(</span><span style="color:#B5CEA8">2</span><span style="color:#D4D4D4">, </span><span style="color:#B5CEA8">2</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// myFish is ["parrot", "anemone", "sturgeon"]</span></span>
<span class="line"><span style="color:#6A9955">// removed is ["blue", "trumpet"]</span></span></code></pre>

    </div><p>source: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice</a></p>
</article><article id="2024-07-04T0930"><header class="flex gap-4 items-center"><time datetime="">2024-07-04</time><span>#git</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-07-04T0930">Git reset last commit</a></h1><p>1ï¼‰è¦æ’¤é”€ä¸Šä¸€æ¬¡æäº¤çš„æ›´æ”¹ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ Git å‘½ä»¤ï¼š</p>

    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">git</span><span style="color:#CE9178"> reset</span><span style="color:#569CD6"> --soft</span><span style="color:#CE9178"> HEAD~1</span></span></code></pre>

    </div><p>è¿™ä¸ªå‘½ä»¤ä¼šå°† <code>HEAD</code> ç§»åŠ¨åˆ°ä¸Šä¸€æ¬¡çš„ commitï¼Œå›é€€åˆ° changes staged çš„æ—¶å€™ã€‚</p>
<p>2ï¼‰å¦‚æœä½ æƒ³è¦å®Œå…¨æ’¤é”€æœ€åä¸€æ¬¡æäº¤çš„æ›´æ”¹ï¼Œå¯ä»¥ä½¿ç”¨ <code>--hard</code> å‚æ•°ï¼š</p>

    <div class="code-block__wrapper language-bash">
      <div class="code-block__header">
        <span class="lang">bash</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#DCDCAA">git</span><span style="color:#CE9178"> reset</span><span style="color:#569CD6"> --hard</span><span style="color:#CE9178"> HEAD~1</span></span></code></pre>

    </div><p>è¿™ä¼šå°† <code>HEAD</code> ç§»åŠ¨åˆ°ä¸Šä¸€æ¬¡çš„ commitï¼Œå¹¶ä¼šä¸¢å¼ƒå·¥ä½œç›®å½•ä¸­çš„æ‰€æœ‰æ›´æ”¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå›é€€åˆ°äº†ä¸Šä¸€æ¬¡ commit æ—¶çš„çŠ¶æ€ã€‚</p>
</article><article id="2024-06-23T0930"><header class="flex gap-4 items-center"><time datetime="">2024-06-23</time><span>#html</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-06-23T0930">HTML native dialog</a></h1><h2>render a dialog</h2>

    <div class="code-block__wrapper language-html">
      <div class="code-block__header">
        <span class="lang">html</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-html"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">dialog</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">  &#x3C;</span><span style="color:#569CD6">button</span><span style="color:#808080">></span><span style="color:#D4D4D4">Close</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">button</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">  &#x3C;</span><span style="color:#569CD6">p</span><span style="color:#808080">></span><span style="color:#D4D4D4">This modal dialog has a groovy backdrop!</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">p</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">dialog</span><span style="color:#808080">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">button</span><span style="color:#808080">></span><span style="color:#D4D4D4">Show the dialog</span><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">button</span><span style="color:#808080">></span></span></code></pre>

    </div><p>dialog å…ƒç´ é»˜è®¤æ˜¯å…³é—­çš„ï¼Œå³é»˜è®¤æ˜¯ä¸å‡ºç°åœ¨ç”¨æˆ·çœ¼å‰çš„ã€‚è¿™ä¸ªè·Ÿå…¶ä»– html element ä¸å¤ªä¸€æ ·ï¼Œå¹¶ä¸æ˜¯ä½ å†™åœ¨ html é‡Œäº†å°±ä¼šå‡ºç°åœ¨ç”¨æˆ·è§†é‡é‡Œã€‚<strong>ä½ éœ€è¦é€šè¿‡ JavaScript å»æ‰“å¼€å®ƒã€‚</strong></p>
<h2>open the dialog</h2>
<p>è¦æ‰“å¼€ dialog çš„è¯ï¼Œä½ éœ€è¦å…ˆé€‰ä¸­ dialog å…ƒç´ ï¼Œç„¶åé€šè¿‡ <code>dialog.showModal()</code> ç­‰æ–¹å¼å»æ‰“å¼€å®ƒã€‚</p>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> dialog</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">document</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">querySelector</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"dialog"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> showButton</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">document</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">querySelector</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"dialog + button"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">// opens the dialog modally</span></span>
<span class="line"><span style="color:#9CDCFE">showButton</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">addEventListener</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"click"</span><span style="color:#D4D4D4">, () </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  dialog</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">showModal</span><span style="color:#D4D4D4">();</span></span>
<span class="line"><span style="color:#D4D4D4">});</span></span></code></pre>

    </div><p>è¿™é‡Œï¼Œæˆ‘ä»¬é€šè¿‡ <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLDialogElement/showModal" title=".showModal()" target="_blank"><code>.showModal()</code></a> æ–¹æ³•æ‰“å¼€äº†ä¸€ä¸ª modal dialogã€‚</p>
<h2>close the dialog</h2>

    <div class="code-block__wrapper language-js">
      <div class="code-block__header">
        <span class="lang">js</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-js"><span class="line"><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> closeButton</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">document</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">querySelector</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"dialog button"</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9CDCFE">closeButton</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">addEventListener</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"click"</span><span style="color:#D4D4D4">, () </span><span style="color:#569CD6">=></span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  dialog</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">close</span><span style="color:#D4D4D4">();</span></span>
<span class="line"><span style="color:#D4D4D4">});</span></span></code></pre>

    </div><p>dialog å¯ä»¥é€šè¿‡ <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLDialogElement/close" title=".close()" target="_blank"><code>.close()</code></a> æ–¹æ³•æ¥å…³é—­ã€‚</p>
<p>å¯¹äº modal dialogï¼Œä¹Ÿå¯ä»¥é€šè¿‡æŒ‰ä¸‹ Esc é”®æ¥å…³é—­ã€‚</p>
<h2>the display CSS property of the dialog element</h2>
<p>å½“ dialog å…³é—­æ—¶ï¼š</p>

    <div class="code-block__wrapper language-css">
      <div class="code-block__header">
        <span class="lang">css</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-css"><span class="line"><span style="color:#D7BA7D">dialog:not</span><span style="color:#D4D4D4">([</span><span style="color:#9CDCFE">open</span><span style="color:#D4D4D4">]) {</span></span>
<span class="line"><span style="color:#9CDCFE">  display</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">none</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p>å½“ dialog æ‰“å¼€æ—¶ï¼š</p>

    <div class="code-block__wrapper language-css">
      <div class="code-block__header">
        <span class="lang">css</span>
      </div>
      <pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code class="language-css"><span class="line"><span style="color:#D7BA7D">dialog</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#9CDCFE">  display</span><span style="color:#D4D4D4">: </span><span style="color:#CE9178">block</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>

    </div><p>ä½†ä¸€æ—¦ä½ è‡ªå·±ç»™ dialog å…ƒç´ çš„ <code>display</code> CSS å±æ€§åšäº†è®¾ç½®ï¼Œå°±ä¼šç ´åè¿™ä¸ªè¡Œä¸ºã€‚å¯¹è¿™ä¸ªçš„è§£å†³æ–¹æ³•å°±æ˜¯ä¸è¦ç›´æ¥åœ¨ dialog å…ƒç´ ä¸Šåº”ç”¨ä»»ä½• <code>display</code>ï¼Œè€Œæ˜¯å°† dialog content å† wrap ä¸€å±‚ï¼ŒæŠŠä½ è¦çš„ display åº”ç”¨åœ¨è¿™ä¸ª dialog content wrapper ä¸Šã€‚</p>
<p>source: <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog" target="_blank">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog</a></p>
</article><article id="2024-06-23T0940"><header class="flex gap-4 items-center"><time datetime="">2024-06-23</time><span>#javascript</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-06-23T0940">JavaScript reload webpage</a></h1><p>The <strong><code>reload()</code></strong> method of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Location" target="_blank"><code>Location</code></a> interface reloads the current URL, <strong>like the Refresh button</strong>.</p>
<p>source: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/reload" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/Location/reload</a></p>
</article><article id="2024-06-23T0950"><header class="flex gap-4 items-center"><time datetime="">2024-06-23</time><span>#github</span><a class="ml-auto" href="#top">
â†‘
</a></header><h1><a href="#2024-06-23T0950">deploy plain html to Github Page</a></h1><ol>
<li>é¦–å…ˆä½ çš„æœ¬åœ°ä»“åº“å…ˆåˆ›å»ºå¥½ï¼Œç¡®ä¿æ‰€æœ‰æ”¹åŠ¨éƒ½ commit äº†ã€‚</li>
<li>ç„¶ååœ¨ Github ä¸Šåˆ›å»ºä¸€ä¸ªä»“åº“ã€‚</li>
<li>ç„¶åå›åˆ°ä½ çš„æœ¬åœ°ä»“åº“ï¼Œä¸ä½ çš„è¿œç¨‹ä»“åº“åšå¥½è¿æ¥ï¼Œç„¶å pushã€‚</li>
<li>æœ€åå›åˆ°ä½ çš„è¿œç¨‹ä»“åº“çš„ dashboardï¼Œæ‰“å¼€ â€œsetting â†’ pagesâ€ï¼Œåœ¨ select branch é‚£é‡Œå°† None æ”¹ä¸ºä½ éœ€è¦çš„åˆ†æ”¯ï¼Œæ¯”å¦‚ mainï¼Œç›®å½•é€‰æ‹©å¦‚ rootï¼Œæœ€åç‚¹å‡»ä¿å­˜ï¼Œéœ€è¦ä½ åšçš„å·¥ä½œå°±å®Œæˆäº†ã€‚æ¥ä¸‹é‡Œç­‰å‡ åˆ†é’Ÿè®© Github éƒ¨ç½²å¥½ä½ çš„ç½‘ç«™ï¼Œä¹‹åä½ å°±å¯ä»¥è®¿é—®äº†ã€‚</li>
</ol>
</article> </main>  </body></html> 